{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useTypeSelect\", {\n    enumerable: true,\n    get: function () {\n      return $fb3050f43d946246$export$e32c88dfddc6e1d8;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  /*\n   * Copyright 2020 Adobe. All rights reserved.\n   * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License. You may obtain a copy\n   * of the License at http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software distributed under\n   * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n   * OF ANY KIND, either express or implied. See the License for the specific language\n   * governing permissions and limitations under the License.\n   */\n  /**\n   * Controls how long to wait before clearing the typeahead buffer.\n   */\n  const $fb3050f43d946246$var$TYPEAHEAD_DEBOUNCE_WAIT_MS = 1000; // 1 second\n  function $fb3050f43d946246$export$e32c88dfddc6e1d8(options) {\n    let {\n      keyboardDelegate: keyboardDelegate,\n      selectionManager: selectionManager,\n      onTypeSelect: onTypeSelect\n    } = options;\n    let state = (0, _react.useRef)({\n      search: '',\n      timeout: undefined\n    }).current;\n    let onKeyDown = e => {\n      let character = $fb3050f43d946246$var$getStringForKey(e.key);\n      if (!character || e.ctrlKey || e.metaKey || !e.currentTarget.contains(e.target) || state.search.length === 0 && character === ' ') return;\n      // Do not propagate the Spacebar event if it's meant to be part of the search.\n      // When we time out, the search term becomes empty, hence the check on length.\n      // Trimming is to account for the case of pressing the Spacebar more than once,\n      // which should cycle through the selection/deselection of the focused item.\n      if (character === ' ' && state.search.trim().length > 0) {\n        e.preventDefault();\n        if (!('continuePropagation' in e)) e.stopPropagation();\n      }\n      state.search += character;\n      if (keyboardDelegate.getKeyForSearch != null) {\n        // Use the delegate to find a key to focus.\n        // Prioritize items after the currently focused item, falling back to searching the whole list.\n        let key = keyboardDelegate.getKeyForSearch(state.search, selectionManager.focusedKey);\n        // If no key found, search from the top.\n        if (key == null) key = keyboardDelegate.getKeyForSearch(state.search);\n        if (key != null) {\n          selectionManager.setFocusedKey(key);\n          if (onTypeSelect) onTypeSelect(key);\n        }\n      }\n      clearTimeout(state.timeout);\n      state.timeout = setTimeout(() => {\n        state.search = '';\n      }, $fb3050f43d946246$var$TYPEAHEAD_DEBOUNCE_WAIT_MS);\n    };\n    return {\n      typeSelectProps: {\n        // Using a capturing listener to catch the keydown event before\n        // other hooks in order to handle the Spacebar event.\n        onKeyDownCapture: keyboardDelegate.getKeyForSearch ? onKeyDown : undefined\n      }\n    };\n  }\n  function $fb3050f43d946246$var$getStringForKey(key) {\n    // If the key is of length 1, it is an ASCII value.\n    // Otherwise, if there are no ASCII characters in the key name,\n    // it is a Unicode character.\n    // See https://www.w3.org/TR/uievents-key/\n    if (key.length === 1 || !/^[A-Z]/i.test(key)) return key;\n    return '';\n  }\n});","lineCount":83,"map":[[7,2,69,0,"Object"],[7,8,69,0],[7,9,69,0,"defineProperty"],[7,23,69,0],[7,24,69,0,"exports"],[7,31,69,0],[8,4,69,0,"enumerable"],[8,14,69,0],[9,4,69,0,"get"],[9,7,69,0],[9,18,69,0,"get"],[9,19,69,0],[10,6,69,0],[10,13,69,8,"$fb3050f43d946246$export$e32c88dfddc6e1d8"],[10,54,69,49],[11,4,69,49],[12,2,69,49],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,3,0],[15,0,4,0],[16,0,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,0,13,0],[25,2,14,0],[26,0,15,0],[27,0,16,0],[28,2,16,4],[28,8,16,10,"$fb3050f43d946246$var$TYPEAHEAD_DEBOUNCE_WAIT_MS"],[28,56,16,58],[28,59,16,61],[28,63,16,65],[28,64,16,66],[28,65,16,67],[29,2,17,0],[29,11,17,9,"$fb3050f43d946246$export$e32c88dfddc6e1d8"],[29,52,17,50,"$fb3050f43d946246$export$e32c88dfddc6e1d8"],[29,53,17,51,"options"],[29,60,17,58],[29,62,17,60],[30,4,18,4],[30,8,18,8],[31,6,18,10,"keyboardDelegate"],[31,22,18,26],[31,24,18,28,"keyboardDelegate"],[31,40,18,44],[32,6,18,46,"selectionManager"],[32,22,18,62],[32,24,18,64,"selectionManager"],[32,40,18,80],[33,6,18,82,"onTypeSelect"],[33,18,18,94],[33,20,18,96,"onTypeSelect"],[34,4,18,109],[34,5,18,110],[34,8,18,113,"options"],[34,15,18,120],[35,4,19,4],[35,8,19,8,"state"],[35,13,19,13],[35,16,19,16],[35,17,19,17],[35,18,19,18],[35,20,19,20,"$dAE4Y$useRef"],[35,26,19,33],[35,27,19,33,"useRef"],[35,33,19,33],[35,35,19,35],[36,6,20,8,"search"],[36,12,20,14],[36,14,20,16],[36,16,20,18],[37,6,21,8,"timeout"],[37,13,21,15],[37,15,21,17,"undefined"],[38,4,22,4],[38,5,22,5],[38,6,22,6],[38,7,22,7,"current"],[38,14,22,14],[39,4,23,4],[39,8,23,8,"onKeyDown"],[39,17,23,17],[39,20,23,21,"e"],[39,21,23,22],[39,25,23,25],[40,6,24,8],[40,10,24,12,"character"],[40,19,24,21],[40,22,24,24,"$fb3050f43d946246$var$getStringForKey"],[40,59,24,61],[40,60,24,62,"e"],[40,61,24,63],[40,62,24,64,"key"],[40,65,24,67],[40,66,24,68],[41,6,25,8],[41,10,25,12],[41,11,25,13,"character"],[41,20,25,22],[41,24,25,26,"e"],[41,25,25,27],[41,26,25,28,"ctrlKey"],[41,33,25,35],[41,37,25,39,"e"],[41,38,25,40],[41,39,25,41,"metaKey"],[41,46,25,48],[41,50,25,52],[41,51,25,53,"e"],[41,52,25,54],[41,53,25,55,"currentTarget"],[41,66,25,68],[41,67,25,69,"contains"],[41,75,25,77],[41,76,25,78,"e"],[41,77,25,79],[41,78,25,80,"target"],[41,84,25,86],[41,85,25,87],[41,89,25,91,"state"],[41,94,25,96],[41,95,25,97,"search"],[41,101,25,103],[41,102,25,104,"length"],[41,108,25,110],[41,113,25,115],[41,114,25,116],[41,118,25,120,"character"],[41,127,25,129],[41,132,25,134],[41,135,25,137],[41,137,25,139],[42,6,26,8],[43,6,27,8],[44,6,28,8],[45,6,29,8],[46,6,30,8],[46,10,30,12,"character"],[46,19,30,21],[46,24,30,26],[46,27,30,29],[46,31,30,33,"state"],[46,36,30,38],[46,37,30,39,"search"],[46,43,30,45],[46,44,30,46,"trim"],[46,48,30,50],[46,49,30,51],[46,50,30,52],[46,51,30,53,"length"],[46,57,30,59],[46,60,30,62],[46,61,30,63],[46,63,30,65],[47,8,31,12,"e"],[47,9,31,13],[47,10,31,14,"preventDefault"],[47,24,31,28],[47,25,31,29],[47,26,31,30],[48,8,32,12],[48,12,32,16],[48,14,32,18],[48,35,32,39],[48,39,32,43,"e"],[48,40,32,44],[48,41,32,45],[48,43,32,47,"e"],[48,44,32,48],[48,45,32,49,"stopPropagation"],[48,60,32,64],[48,61,32,65],[48,62,32,66],[49,6,33,8],[50,6,34,8,"state"],[50,11,34,13],[50,12,34,14,"search"],[50,18,34,20],[50,22,34,24,"character"],[50,31,34,33],[51,6,35,8],[51,10,35,12,"keyboardDelegate"],[51,26,35,28],[51,27,35,29,"getKeyForSearch"],[51,42,35,44],[51,46,35,48],[51,50,35,52],[51,52,35,54],[52,8,36,12],[53,8,37,12],[54,8,38,12],[54,12,38,16,"key"],[54,15,38,19],[54,18,38,22,"keyboardDelegate"],[54,34,38,38],[54,35,38,39,"getKeyForSearch"],[54,50,38,54],[54,51,38,55,"state"],[54,56,38,60],[54,57,38,61,"search"],[54,63,38,67],[54,65,38,69,"selectionManager"],[54,81,38,85],[54,82,38,86,"focusedKey"],[54,92,38,96],[54,93,38,97],[55,8,39,12],[56,8,40,12],[56,12,40,16,"key"],[56,15,40,19],[56,19,40,23],[56,23,40,27],[56,25,40,29,"key"],[56,28,40,32],[56,31,40,35,"keyboardDelegate"],[56,47,40,51],[56,48,40,52,"getKeyForSearch"],[56,63,40,67],[56,64,40,68,"state"],[56,69,40,73],[56,70,40,74,"search"],[56,76,40,80],[56,77,40,81],[57,8,41,12],[57,12,41,16,"key"],[57,15,41,19],[57,19,41,23],[57,23,41,27],[57,25,41,29],[58,10,42,16,"selectionManager"],[58,26,42,32],[58,27,42,33,"setFocusedKey"],[58,40,42,46],[58,41,42,47,"key"],[58,44,42,50],[58,45,42,51],[59,10,43,16],[59,14,43,20,"onTypeSelect"],[59,26,43,32],[59,28,43,34,"onTypeSelect"],[59,40,43,46],[59,41,43,47,"key"],[59,44,43,50],[59,45,43,51],[60,8,44,12],[61,6,45,8],[62,6,46,8,"clearTimeout"],[62,18,46,20],[62,19,46,21,"state"],[62,24,46,26],[62,25,46,27,"timeout"],[62,32,46,34],[62,33,46,35],[63,6,47,8,"state"],[63,11,47,13],[63,12,47,14,"timeout"],[63,19,47,21],[63,22,47,24,"setTimeout"],[63,32,47,34],[63,33,47,35],[63,39,47,39],[64,8,48,12,"state"],[64,13,48,17],[64,14,48,18,"search"],[64,20,48,24],[64,23,48,27],[64,25,48,29],[65,6,49,8],[65,7,49,9],[65,9,49,11,"$fb3050f43d946246$var$TYPEAHEAD_DEBOUNCE_WAIT_MS"],[65,57,49,59],[65,58,49,60],[66,4,50,4],[66,5,50,5],[67,4,51,4],[67,11,51,11],[68,6,52,8,"typeSelectProps"],[68,21,52,23],[68,23,52,25],[69,8,53,12],[70,8,54,12],[71,8,55,12,"onKeyDownCapture"],[71,24,55,28],[71,26,55,30,"keyboardDelegate"],[71,42,55,46],[71,43,55,47,"getKeyForSearch"],[71,58,55,62],[71,61,55,65,"onKeyDown"],[71,70,55,74],[71,73,55,77,"undefined"],[72,6,56,8],[73,4,57,4],[73,5,57,5],[74,2,58,0],[75,2,59,0],[75,11,59,9,"$fb3050f43d946246$var$getStringForKey"],[75,48,59,46,"$fb3050f43d946246$var$getStringForKey"],[75,49,59,47,"key"],[75,52,59,50],[75,54,59,52],[76,4,60,4],[77,4,61,4],[78,4,62,4],[79,4,63,4],[80,4,64,4],[80,8,64,8,"key"],[80,11,64,11],[80,12,64,12,"length"],[80,18,64,18],[80,23,64,23],[80,24,64,24],[80,28,64,28],[80,29,64,29],[80,38,64,38],[80,39,64,39,"test"],[80,43,64,43],[80,44,64,44,"key"],[80,47,64,47],[80,48,64,48],[80,50,64,50],[80,57,64,57,"key"],[80,60,64,60],[81,4,65,4],[81,11,65,11],[81,13,65,13],[82,2,66,0],[83,0,66,1],[83,3]],"functionMap":{"names":["<global>","$fb3050f43d946246$export$e32c88dfddc6e1d8","onKeyDown","setTimeout$argument_0","$fb3050f43d946246$var$getStringForKey"],"mappings":"AAA;ACgB;oBCM;mCCwB;SDE;KDC;CDQ;AIC;CJO"},"hasCjsExports":false},"type":"js/module"}]}