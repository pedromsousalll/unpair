{"dependencies":[{"name":"@react-aria/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":621},"end":{"line":13,"column":55,"index":676}}],"key":"1YkQy8j1AiEA5UJkjTUYe2TKBMU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.disableTextSelection = disableTextSelection;\n  exports.restoreTextSelection = restoreTextSelection;\n  var _reactAriaUtils = require(_dependencyMap[0], \"@react-aria/utils\");\n  /*\n   * Copyright 2020 Adobe. All rights reserved.\n   * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License. You may obtain a copy\n   * of the License at http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software distributed under\n   * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n   * OF ANY KIND, either express or implied. See the License for the specific language\n   * governing permissions and limitations under the License.\n   */\n\n  // Safari on iOS starts selecting text on long press. The only way to avoid this, it seems,\n  // is to add user-select: none to the entire page. Adding it to the pressable element prevents\n  // that element from being selected, but nearby elements may still receive selection. We add\n  // user-select: none on touch start, and remove it again on touch end to prevent this.\n  // This must be implemented using global state to avoid race conditions between multiple elements.\n\n  // There are three possible states due to the delay before removing user-select: none after\n  // pointer up. The 'default' state always transitions to the 'disabled' state, which transitions\n  // to 'restoring'. The 'restoring' state can either transition back to 'disabled' or 'default'.\n\n  let state = 'default';\n  let savedUserSelect = '';\n  function disableTextSelection() {\n    if (state === 'default') {\n      savedUserSelect = document.documentElement.style.webkitUserSelect;\n      document.documentElement.style.webkitUserSelect = 'none';\n    }\n    state = 'disabled';\n  }\n  function restoreTextSelection() {\n    // If the state is already default, there's nothing to do.\n    // If it is restoring, then there's no need to queue a second restore.\n    if (state !== 'disabled') {\n      return;\n    }\n    state = 'restoring';\n\n    // There appears to be a delay on iOS where selection still might occur\n    // after pointer up, so wait a bit before removing user-select.\n    setTimeout(() => {\n      // Wait for any CSS transitions to complete so we don't recompute style\n      // for the whole page in the middle of the animation and cause jank.\n      (0, _reactAriaUtils.runAfterTransition)(() => {\n        // Avoid race conditions\n        if (state === 'restoring') {\n          if (document.documentElement.style.webkitUserSelect === 'none') {\n            document.documentElement.style.webkitUserSelect = savedUserSelect || '';\n          }\n          savedUserSelect = '';\n          state = 'default';\n        }\n      });\n    }, 300);\n  }\n});","lineCount":66,"map":[[7,2,27,0,"exports"],[7,9,27,0],[7,10,27,0,"disableTextSelection"],[7,30,27,0],[7,33,27,0,"disableTextSelection"],[7,53,27,0],[8,2,34,0,"exports"],[8,9,34,0],[8,10,34,0,"restoreTextSelection"],[8,30,34,0],[8,33,34,0,"restoreTextSelection"],[8,53,34,0],[9,2,13,0],[9,6,13,0,"_reactAriaUtils"],[9,21,13,0],[9,24,13,0,"require"],[9,31,13,0],[9,32,13,0,"_dependencyMap"],[9,46,13,0],[10,2,1,0],[11,0,2,0],[12,0,3,0],[13,0,4,0],[14,0,5,0],[15,0,6,0],[16,0,7,0],[17,0,8,0],[18,0,9,0],[19,0,10,0],[20,0,11,0],[22,2,15,0],[23,2,16,0],[24,2,17,0],[25,2,18,0],[26,2,19,0],[28,2,21,0],[29,2,22,0],[30,2,23,0],[32,2,25,0],[32,6,25,4,"state"],[32,11,25,9],[32,14,25,12],[32,23,25,21],[33,2,26,0],[33,6,26,4,"savedUserSelect"],[33,21,26,19],[33,24,26,22],[33,26,26,24],[34,2,27,7],[34,11,27,16,"disableTextSelection"],[34,31,27,36,"disableTextSelection"],[34,32,27,36],[34,34,27,39],[35,4,28,2],[35,8,28,6,"state"],[35,13,28,11],[35,18,28,16],[35,27,28,25],[35,29,28,27],[36,6,29,4,"savedUserSelect"],[36,21,29,19],[36,24,29,22,"document"],[36,32,29,30],[36,33,29,31,"documentElement"],[36,48,29,46],[36,49,29,47,"style"],[36,54,29,52],[36,55,29,53,"webkitUserSelect"],[36,71,29,69],[37,6,30,4,"document"],[37,14,30,12],[37,15,30,13,"documentElement"],[37,30,30,28],[37,31,30,29,"style"],[37,36,30,34],[37,37,30,35,"webkitUserSelect"],[37,53,30,51],[37,56,30,54],[37,62,30,60],[38,4,31,2],[39,4,32,2,"state"],[39,9,32,7],[39,12,32,10],[39,22,32,20],[40,2,33,0],[41,2,34,7],[41,11,34,16,"restoreTextSelection"],[41,31,34,36,"restoreTextSelection"],[41,32,34,36],[41,34,34,39],[42,4,35,2],[43,4,36,2],[44,4,37,2],[44,8,37,6,"state"],[44,13,37,11],[44,18,37,16],[44,28,37,26],[44,30,37,28],[45,6,38,4],[46,4,39,2],[47,4,40,2,"state"],[47,9,40,7],[47,12,40,10],[47,23,40,21],[49,4,42,2],[50,4,43,2],[51,4,44,2,"setTimeout"],[51,14,44,12],[51,15,44,13],[51,21,44,19],[52,6,45,4],[53,6,46,4],[54,6,47,4],[54,10,47,4,"runAfterTransition"],[54,25,47,22],[54,26,47,22,"runAfterTransition"],[54,44,47,22],[54,46,47,23],[54,52,47,29],[55,8,48,6],[56,8,49,6],[56,12,49,10,"state"],[56,17,49,15],[56,22,49,20],[56,33,49,31],[56,35,49,33],[57,10,50,8],[57,14,50,12,"document"],[57,22,50,20],[57,23,50,21,"documentElement"],[57,38,50,36],[57,39,50,37,"style"],[57,44,50,42],[57,45,50,43,"webkitUserSelect"],[57,61,50,59],[57,66,50,64],[57,72,50,70],[57,74,50,72],[58,12,51,10,"document"],[58,20,51,18],[58,21,51,19,"documentElement"],[58,36,51,34],[58,37,51,35,"style"],[58,42,51,40],[58,43,51,41,"webkitUserSelect"],[58,59,51,57],[58,62,51,60,"savedUserSelect"],[58,77,51,75],[58,81,51,79],[58,83,51,81],[59,10,52,8],[60,10,53,8,"savedUserSelect"],[60,25,53,23],[60,28,53,26],[60,30,53,28],[61,10,54,8,"state"],[61,15,54,13],[61,18,54,16],[61,27,54,25],[62,8,55,6],[63,6,56,4],[63,7,56,5],[63,8,56,6],[64,4,57,2],[64,5,57,3],[64,7,57,5],[64,10,57,8],[64,11,57,9],[65,2,58,0],[66,0,58,1],[66,3]],"functionMap":{"names":["<global>","disableTextSelection","restoreTextSelection","setTimeout$argument_0","runAfterTransition$argument_0"],"mappings":"AAA;OC0B;CDM;OEC;aCU;uBCG;KDS;GDC;CFC"},"hasCjsExports":false},"type":"js/module"}]}