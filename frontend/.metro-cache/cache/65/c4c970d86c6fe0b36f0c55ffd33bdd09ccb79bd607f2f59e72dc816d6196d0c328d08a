{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":112,"index":112}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useGlobalListeners\", {\n    enumerable: true,\n    get: function () {\n      return $03deb23ff14920c4$export$4eaf04e54aa8eed6;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  /*\n   * Copyright 2020 Adobe. All rights reserved.\n   * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License. You may obtain a copy\n   * of the License at http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software distributed under\n   * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n   * OF ANY KIND, either express or implied. See the License for the specific language\n   * governing permissions and limitations under the License.\n   */\n  function $03deb23ff14920c4$export$4eaf04e54aa8eed6() {\n    let globalListeners = (0, _react.useRef)(new Map());\n    let addGlobalListener = (0, _react.useCallback)((eventTarget, type, listener, options) => {\n      // Make sure we remove the listener after it is called with the `once` option.\n      let fn = (options === null || options === void 0 ? void 0 : options.once) ? (...args) => {\n        globalListeners.current.delete(listener);\n        listener(...args);\n      } : listener;\n      globalListeners.current.set(listener, {\n        type: type,\n        eventTarget: eventTarget,\n        fn: fn,\n        options: options\n      });\n      eventTarget.addEventListener(type, fn, options);\n    }, []);\n    let removeGlobalListener = (0, _react.useCallback)((eventTarget, type, listener, options) => {\n      var _globalListeners_current_get;\n      let fn = ((_globalListeners_current_get = globalListeners.current.get(listener)) === null || _globalListeners_current_get === void 0 ? void 0 : _globalListeners_current_get.fn) || listener;\n      eventTarget.removeEventListener(type, fn, options);\n      globalListeners.current.delete(listener);\n    }, []);\n    let removeAllGlobalListeners = (0, _react.useCallback)(() => {\n      globalListeners.current.forEach((value, key) => {\n        removeGlobalListener(value.eventTarget, value.type, key, value.options);\n      });\n    }, [removeGlobalListener]);\n    (0, _react.useEffect)(() => {\n      return removeAllGlobalListeners;\n    }, [removeAllGlobalListeners]);\n    return {\n      addGlobalListener: addGlobalListener,\n      removeGlobalListener: removeGlobalListener,\n      removeAllGlobalListeners: removeAllGlobalListeners\n    };\n  }\n});","lineCount":61,"map":[[7,2,56,0,"Object"],[7,8,56,0],[7,9,56,0,"defineProperty"],[7,23,56,0],[7,24,56,0,"exports"],[7,31,56,0],[8,4,56,0,"enumerable"],[8,14,56,0],[9,4,56,0,"get"],[9,7,56,0],[9,18,56,0,"get"],[9,19,56,0],[10,6,56,0],[10,13,56,8,"$03deb23ff14920c4$export$4eaf04e54aa8eed6"],[10,54,56,49],[11,4,56,49],[12,2,56,49],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,3,0],[15,0,4,0],[16,0,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,0,13,0],[25,2,14,0],[25,11,14,9,"$03deb23ff14920c4$export$4eaf04e54aa8eed6"],[25,52,14,50,"$03deb23ff14920c4$export$4eaf04e54aa8eed6"],[25,53,14,50],[25,55,14,53],[26,4,15,4],[26,8,15,8,"globalListeners"],[26,23,15,23],[26,26,15,26],[26,27,15,27],[26,28,15,28],[26,30,15,30,"$lPAwt$useRef"],[26,36,15,43],[26,37,15,43,"useRef"],[26,43,15,43],[26,45,15,45],[26,49,15,49,"Map"],[26,52,15,52],[26,53,15,53],[26,54,15,54],[26,55,15,55],[27,4,16,4],[27,8,16,8,"addGlobalListener"],[27,25,16,25],[27,28,16,28],[27,29,16,29],[27,30,16,30],[27,32,16,32,"$lPAwt$useCallback"],[27,38,16,50],[27,39,16,50,"useCallback"],[27,50,16,50],[27,52,16,52],[27,53,16,53,"eventTarget"],[27,64,16,64],[27,66,16,66,"type"],[27,70,16,70],[27,72,16,72,"listener"],[27,80,16,80],[27,82,16,82,"options"],[27,89,16,89],[27,94,16,92],[28,6,17,8],[29,6,18,8],[29,10,18,12,"fn"],[29,12,18,14],[29,15,18,17],[29,16,18,18,"options"],[29,23,18,25],[29,28,18,30],[29,32,18,34],[29,36,18,38,"options"],[29,43,18,45],[29,48,18,50],[29,53,18,55],[29,54,18,56],[29,57,18,59],[29,62,18,64],[29,63,18,65],[29,66,18,68,"options"],[29,73,18,75],[29,74,18,76,"once"],[29,78,18,80],[29,82,18,84],[29,83,18,85],[29,86,18,88,"args"],[29,90,18,92],[29,95,18,95],[30,8,19,12,"globalListeners"],[30,23,19,27],[30,24,19,28,"current"],[30,31,19,35],[30,32,19,36,"delete"],[30,38,19,42],[30,39,19,43,"listener"],[30,47,19,51],[30,48,19,52],[31,8,20,12,"listener"],[31,16,20,20],[31,17,20,21],[31,20,20,24,"args"],[31,24,20,28],[31,25,20,29],[32,6,21,8],[32,7,21,9],[32,10,21,12,"listener"],[32,18,21,20],[33,6,22,8,"globalListeners"],[33,21,22,23],[33,22,22,24,"current"],[33,29,22,31],[33,30,22,32,"set"],[33,33,22,35],[33,34,22,36,"listener"],[33,42,22,44],[33,44,22,46],[34,8,23,12,"type"],[34,12,23,16],[34,14,23,18,"type"],[34,18,23,22],[35,8,24,12,"eventTarget"],[35,19,24,23],[35,21,24,25,"eventTarget"],[35,32,24,36],[36,8,25,12,"fn"],[36,10,25,14],[36,12,25,16,"fn"],[36,14,25,18],[37,8,26,12,"options"],[37,15,26,19],[37,17,26,21,"options"],[38,6,27,8],[38,7,27,9],[38,8,27,10],[39,6,28,8,"eventTarget"],[39,17,28,19],[39,18,28,20,"addEventListener"],[39,34,28,36],[39,35,28,37,"type"],[39,39,28,41],[39,41,28,43,"fn"],[39,43,28,45],[39,45,28,47,"options"],[39,52,28,54],[39,53,28,55],[40,4,29,4],[40,5,29,5],[40,7,29,7],[40,9,29,9],[40,10,29,10],[41,4,30,4],[41,8,30,8,"removeGlobalListener"],[41,28,30,28],[41,31,30,31],[41,32,30,32],[41,33,30,33],[41,35,30,35,"$lPAwt$useCallback"],[41,41,30,53],[41,42,30,53,"useCallback"],[41,53,30,53],[41,55,30,55],[41,56,30,56,"eventTarget"],[41,67,30,67],[41,69,30,69,"type"],[41,73,30,73],[41,75,30,75,"listener"],[41,83,30,83],[41,85,30,85,"options"],[41,92,30,92],[41,97,30,95],[42,6,31,8],[42,10,31,12,"_globalListeners_current_get"],[42,38,31,40],[43,6,32,8],[43,10,32,12,"fn"],[43,12,32,14],[43,15,32,17],[43,16,32,18],[43,17,32,19,"_globalListeners_current_get"],[43,45,32,47],[43,48,32,50,"globalListeners"],[43,63,32,65],[43,64,32,66,"current"],[43,71,32,73],[43,72,32,74,"get"],[43,75,32,77],[43,76,32,78,"listener"],[43,84,32,86],[43,85,32,87],[43,91,32,93],[43,95,32,97],[43,99,32,101,"_globalListeners_current_get"],[43,127,32,129],[43,132,32,134],[43,137,32,139],[43,138,32,140],[43,141,32,143],[43,146,32,148],[43,147,32,149],[43,150,32,152,"_globalListeners_current_get"],[43,178,32,180],[43,179,32,181,"fn"],[43,181,32,183],[43,186,32,188,"listener"],[43,194,32,196],[44,6,33,8,"eventTarget"],[44,17,33,19],[44,18,33,20,"removeEventListener"],[44,37,33,39],[44,38,33,40,"type"],[44,42,33,44],[44,44,33,46,"fn"],[44,46,33,48],[44,48,33,50,"options"],[44,55,33,57],[44,56,33,58],[45,6,34,8,"globalListeners"],[45,21,34,23],[45,22,34,24,"current"],[45,29,34,31],[45,30,34,32,"delete"],[45,36,34,38],[45,37,34,39,"listener"],[45,45,34,47],[45,46,34,48],[46,4,35,4],[46,5,35,5],[46,7,35,7],[46,9,35,9],[46,10,35,10],[47,4,36,4],[47,8,36,8,"removeAllGlobalListeners"],[47,32,36,32],[47,35,36,35],[47,36,36,36],[47,37,36,37],[47,39,36,39,"$lPAwt$useCallback"],[47,45,36,57],[47,46,36,57,"useCallback"],[47,57,36,57],[47,59,36,59],[47,65,36,63],[48,6,37,8,"globalListeners"],[48,21,37,23],[48,22,37,24,"current"],[48,29,37,31],[48,30,37,32,"forEach"],[48,37,37,39],[48,38,37,40],[48,39,37,41,"value"],[48,44,37,46],[48,46,37,48,"key"],[48,49,37,51],[48,54,37,54],[49,8,38,12,"removeGlobalListener"],[49,28,38,32],[49,29,38,33,"value"],[49,34,38,38],[49,35,38,39,"eventTarget"],[49,46,38,50],[49,48,38,52,"value"],[49,53,38,57],[49,54,38,58,"type"],[49,58,38,62],[49,60,38,64,"key"],[49,63,38,67],[49,65,38,69,"value"],[49,70,38,74],[49,71,38,75,"options"],[49,78,38,82],[49,79,38,83],[50,6,39,8],[50,7,39,9],[50,8,39,10],[51,4,40,4],[51,5,40,5],[51,7,40,7],[51,8,41,8,"removeGlobalListener"],[51,28,41,28],[51,29,42,5],[51,30,42,6],[52,4,43,4],[52,5,43,5],[52,6,43,6],[52,8,43,8,"$lPAwt$useEffect"],[52,14,43,24],[52,15,43,24,"useEffect"],[52,24,43,24],[52,26,43,26],[52,32,43,30],[53,6,44,8],[53,13,44,15,"removeAllGlobalListeners"],[53,37,44,39],[54,4,45,4],[54,5,45,5],[54,7,45,7],[54,8,46,8,"removeAllGlobalListeners"],[54,32,46,32],[54,33,47,5],[54,34,47,6],[55,4,48,4],[55,11,48,11],[56,6,49,8,"addGlobalListener"],[56,23,49,25],[56,25,49,27,"addGlobalListener"],[56,42,49,44],[57,6,50,8,"removeGlobalListener"],[57,26,50,28],[57,28,50,30,"removeGlobalListener"],[57,48,50,50],[58,6,51,8,"removeAllGlobalListeners"],[58,30,51,32],[58,32,51,34,"removeAllGlobalListeners"],[59,4,52,4],[59,5,52,5],[60,2,53,0],[61,0,53,1],[61,3]],"functionMap":{"names":["<global>","$03deb23ff14920c4$export$4eaf04e54aa8eed6","<anonymous>","globalListeners.current.forEach$argument_0"],"mappings":"AAA;ACa;oDCE;KDa;uDCC;KDK;2DCC;wCCC;SDE;KDC;0BCG;KDE;CDQ"},"hasCjsExports":false},"type":"js/module"}]}