{"dependencies":[{"name":"@react-aria/utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":13,"index":199},"end":{"line":8,"column":41,"index":227}}],"key":"hH7ZPgKu/nR0zv7dDY6DfywJY/Y=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.disableTextSelection = disableTextSelection;\n  exports.restoreTextSelection = restoreTextSelection;\n  var _utils = require(_dependencyMap[0], \"@react-aria/utils\");\n  /*\n   * Copyright 2020 Adobe. All rights reserved.\n   * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License. You may obtain a copy\n   * of the License at http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software distributed under\n   * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n   * OF ANY KIND, either express or implied. See the License for the specific language\n   * governing permissions and limitations under the License.\n   */\n\n  // Safari on iOS starts selecting text on long press. The only way to avoid this, it seems,\n  // is to add user-select: none to the entire page. Adding it to the pressable element prevents\n  // that element from being selected, but nearby elements may still receive selection. We add\n  // user-select: none on touch start, and remove it again on touch end to prevent this.\n  // This must be implemented using global state to avoid race conditions between multiple elements.\n\n  // There are three possible states due to the delay before removing user-select: none after\n  // pointer up. The 'default' state always transitions to the 'disabled' state, which transitions\n  // to 'restoring'. The 'restoring' state can either transition back to 'disabled' or 'default'.\n\n  let state = 'default';\n  let savedUserSelect = '';\n  function disableTextSelection() {\n    if (state === 'default') {\n      savedUserSelect = document.documentElement.style.webkitUserSelect;\n      document.documentElement.style.webkitUserSelect = 'none';\n    }\n    state = 'disabled';\n  }\n  function restoreTextSelection() {\n    // If the state is already default, there's nothing to do.\n    // If it is restoring, then there's no need to queue a second restore.\n    if (state !== 'disabled') {\n      return;\n    }\n    state = 'restoring';\n\n    // There appears to be a delay on iOS where selection still might occur\n    // after pointer up, so wait a bit before removing user-select.\n    setTimeout(() => {\n      // Wait for any CSS transitions to complete so we don't recompute style\n      // for the whole page in the middle of the animation and cause jank.\n      (0, _utils.runAfterTransition)(() => {\n        // Avoid race conditions\n        if (state === 'restoring') {\n          if (document.documentElement.style.webkitUserSelect === 'none') {\n            document.documentElement.style.webkitUserSelect = savedUserSelect || '';\n          }\n          savedUserSelect = '';\n          state = 'default';\n        }\n      });\n    }, 300);\n  }\n});","lineCount":66,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"disableTextSelection"],[7,30,6,28],[7,33,6,31,"disableTextSelection"],[7,53,6,51],[8,2,7,0,"exports"],[8,9,7,7],[8,10,7,8,"restoreTextSelection"],[8,30,7,28],[8,33,7,31,"restoreTextSelection"],[8,53,7,51],[9,2,8,0],[9,6,8,4,"_utils"],[9,12,8,10],[9,15,8,13,"require"],[9,22,8,20],[9,23,8,20,"_dependencyMap"],[9,37,8,20],[9,61,8,40],[9,62,8,41],[10,2,9,0],[11,0,10,0],[12,0,11,0],[13,0,12,0],[14,0,13,0],[15,0,14,0],[16,0,15,0],[17,0,16,0],[18,0,17,0],[19,0,18,0],[20,0,19,0],[22,2,21,0],[23,2,22,0],[24,2,23,0],[25,2,24,0],[26,2,25,0],[28,2,27,0],[29,2,28,0],[30,2,29,0],[32,2,31,0],[32,6,31,4,"state"],[32,11,31,9],[32,14,31,12],[32,23,31,21],[33,2,32,0],[33,6,32,4,"savedUserSelect"],[33,21,32,19],[33,24,32,22],[33,26,32,24],[34,2,33,0],[34,11,33,9,"disableTextSelection"],[34,31,33,29,"disableTextSelection"],[34,32,33,29],[34,34,33,32],[35,4,34,2],[35,8,34,6,"state"],[35,13,34,11],[35,18,34,16],[35,27,34,25],[35,29,34,27],[36,6,35,4,"savedUserSelect"],[36,21,35,19],[36,24,35,22,"document"],[36,32,35,30],[36,33,35,31,"documentElement"],[36,48,35,46],[36,49,35,47,"style"],[36,54,35,52],[36,55,35,53,"webkitUserSelect"],[36,71,35,69],[37,6,36,4,"document"],[37,14,36,12],[37,15,36,13,"documentElement"],[37,30,36,28],[37,31,36,29,"style"],[37,36,36,34],[37,37,36,35,"webkitUserSelect"],[37,53,36,51],[37,56,36,54],[37,62,36,60],[38,4,37,2],[39,4,38,2,"state"],[39,9,38,7],[39,12,38,10],[39,22,38,20],[40,2,39,0],[41,2,40,0],[41,11,40,9,"restoreTextSelection"],[41,31,40,29,"restoreTextSelection"],[41,32,40,29],[41,34,40,32],[42,4,41,2],[43,4,42,2],[44,4,43,2],[44,8,43,6,"state"],[44,13,43,11],[44,18,43,16],[44,28,43,26],[44,30,43,28],[45,6,44,4],[46,4,45,2],[47,4,46,2,"state"],[47,9,46,7],[47,12,46,10],[47,23,46,21],[49,4,48,2],[50,4,49,2],[51,4,50,2,"setTimeout"],[51,14,50,12],[51,15,50,13],[51,21,50,19],[52,6,51,4],[53,6,52,4],[54,6,53,4],[54,7,53,5],[54,8,53,6],[54,10,53,8,"_utils"],[54,16,53,14],[54,17,53,15,"runAfterTransition"],[54,35,53,33],[54,37,53,35],[54,43,53,41],[55,8,54,6],[56,8,55,6],[56,12,55,10,"state"],[56,17,55,15],[56,22,55,20],[56,33,55,31],[56,35,55,33],[57,10,56,8],[57,14,56,12,"document"],[57,22,56,20],[57,23,56,21,"documentElement"],[57,38,56,36],[57,39,56,37,"style"],[57,44,56,42],[57,45,56,43,"webkitUserSelect"],[57,61,56,59],[57,66,56,64],[57,72,56,70],[57,74,56,72],[58,12,57,10,"document"],[58,20,57,18],[58,21,57,19,"documentElement"],[58,36,57,34],[58,37,57,35,"style"],[58,42,57,40],[58,43,57,41,"webkitUserSelect"],[58,59,57,57],[58,62,57,60,"savedUserSelect"],[58,77,57,75],[58,81,57,79],[58,83,57,81],[59,10,58,8],[60,10,59,8,"savedUserSelect"],[60,25,59,23],[60,28,59,26],[60,30,59,28],[61,10,60,8,"state"],[61,15,60,13],[61,18,60,16],[61,27,60,25],[62,8,61,6],[63,6,62,4],[63,7,62,5],[63,8,62,6],[64,4,63,2],[64,5,63,3],[64,7,63,5],[64,10,63,8],[64,11,63,9],[65,2,64,0],[66,0,64,1],[66,3]],"functionMap":{"names":["<global>","disableTextSelection","restoreTextSelection","setTimeout$argument_0","<anonymous>"],"mappings":"AAA;ACgC;CDM;AEC;aCU;mCCG;KDS;GDC;CFC"},"hasCjsExports":true},"type":"js/module"}]}