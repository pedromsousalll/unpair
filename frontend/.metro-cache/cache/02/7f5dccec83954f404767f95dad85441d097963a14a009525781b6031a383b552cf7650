{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.memoize = memoize;\n  Object.defineProperty(exports, \"strategies\", {\n    enumerable: true,\n    get: function () {\n      return strategies;\n    }\n  });\n  //\n  // Main\n  //\n  function memoize(fn, options) {\n    var cache = options && options.cache ? options.cache : cacheDefault;\n    var serializer = options && options.serializer ? options.serializer : serializerDefault;\n    var strategy = options && options.strategy ? options.strategy : strategyDefault;\n    return strategy(fn, {\n      cache: cache,\n      serializer: serializer\n    });\n  }\n  //\n  // Strategy\n  //\n  function isPrimitive(value) {\n    return value == null || typeof value === 'number' || typeof value === 'boolean'; // || typeof value === \"string\" 'unsafe' primitive for our needs\n  }\n  function monadic(fn, cache, serializer, arg) {\n    var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n      computedValue = fn.call(this, arg);\n      cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n  }\n  function variadic(fn, cache, serializer) {\n    var args = Array.prototype.slice.call(arguments, 3);\n    var cacheKey = serializer(args);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n      computedValue = fn.apply(this, args);\n      cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n  }\n  function assemble(fn, context, strategy, cache, serialize) {\n    return strategy.bind(context, fn, cache, serialize);\n  }\n  function strategyDefault(fn, options) {\n    var strategy = fn.length === 1 ? monadic : variadic;\n    return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n  }\n  function strategyVariadic(fn, options) {\n    return assemble(fn, this, variadic, options.cache.create(), options.serializer);\n  }\n  function strategyMonadic(fn, options) {\n    return assemble(fn, this, monadic, options.cache.create(), options.serializer);\n  }\n  //\n  // Serializer\n  //\n  var serializerDefault = function () {\n    return JSON.stringify(arguments);\n  };\n  //\n  // Cache\n  //\n  var ObjectWithoutPrototypeCache = /** @class */function () {\n    function ObjectWithoutPrototypeCache() {\n      this.cache = Object.create(null);\n    }\n    ObjectWithoutPrototypeCache.prototype.get = function (key) {\n      return this.cache[key];\n    };\n    ObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n      this.cache[key] = value;\n    };\n    return ObjectWithoutPrototypeCache;\n  }();\n  var cacheDefault = {\n    create: function create() {\n      return new ObjectWithoutPrototypeCache();\n    }\n  };\n  var strategies = {\n    variadic: strategyVariadic,\n    monadic: strategyMonadic\n  };\n});","lineCount":94,"map":[[7,2,4,0,"exports"],[7,9,4,0],[7,10,4,0,"memoize"],[7,17,4,0],[7,20,4,0,"memoize"],[7,27,4,0],[8,2,77,0,"Object"],[8,8,77,0],[8,9,77,0,"defineProperty"],[8,23,77,0],[8,24,77,0,"exports"],[8,31,77,0],[9,4,77,0,"enumerable"],[9,14,77,0],[10,4,77,0,"get"],[10,7,77,0],[10,18,77,0,"get"],[10,19,77,0],[11,6,77,0],[11,13,77,0,"strategies"],[11,23,77,0],[12,4,77,0],[13,2,77,0],[14,2,1,0],[15,2,2,0],[16,2,3,0],[17,2,4,7],[17,11,4,16,"memoize"],[17,18,4,23,"memoize"],[17,19,4,24,"fn"],[17,21,4,26],[17,23,4,28,"options"],[17,30,4,35],[17,32,4,37],[18,4,5,4],[18,8,5,8,"cache"],[18,13,5,13],[18,16,5,16,"options"],[18,23,5,23],[18,27,5,27,"options"],[18,34,5,34],[18,35,5,35,"cache"],[18,40,5,40],[18,43,5,43,"options"],[18,50,5,50],[18,51,5,51,"cache"],[18,56,5,56],[18,59,5,59,"cacheDefault"],[18,71,5,71],[19,4,6,4],[19,8,6,8,"serializer"],[19,18,6,18],[19,21,6,21,"options"],[19,28,6,28],[19,32,6,32,"options"],[19,39,6,39],[19,40,6,40,"serializer"],[19,50,6,50],[19,53,6,53,"options"],[19,60,6,60],[19,61,6,61,"serializer"],[19,71,6,71],[19,74,6,74,"serializerDefault"],[19,91,6,91],[20,4,7,4],[20,8,7,8,"strategy"],[20,16,7,16],[20,19,7,19,"options"],[20,26,7,26],[20,30,7,30,"options"],[20,37,7,37],[20,38,7,38,"strategy"],[20,46,7,46],[20,49,7,49,"options"],[20,56,7,56],[20,57,7,57,"strategy"],[20,65,7,65],[20,68,7,68,"strategyDefault"],[20,83,7,83],[21,4,8,4],[21,11,8,11,"strategy"],[21,19,8,19],[21,20,8,20,"fn"],[21,22,8,22],[21,24,8,24],[22,6,9,8,"cache"],[22,11,9,13],[22,13,9,15,"cache"],[22,18,9,20],[23,6,10,8,"serializer"],[23,16,10,18],[23,18,10,20,"serializer"],[24,4,11,4],[24,5,11,5],[24,6,11,6],[25,2,12,0],[26,2,13,0],[27,2,14,0],[28,2,15,0],[29,2,16,0],[29,11,16,9,"isPrimitive"],[29,22,16,20,"isPrimitive"],[29,23,16,21,"value"],[29,28,16,26],[29,30,16,28],[30,4,17,4],[30,11,17,12,"value"],[30,16,17,17],[30,20,17,21],[30,24,17,25],[30,28,17,29],[30,35,17,36,"value"],[30,40,17,41],[30,45,17,46],[30,53,17,54],[30,57,17,58],[30,64,17,65,"value"],[30,69,17,70],[30,74,17,75],[30,83,17,84],[30,84,17,86],[30,85,17,87],[31,2,18,0],[32,2,19,0],[32,11,19,9,"monadic"],[32,18,19,16,"monadic"],[32,19,19,17,"fn"],[32,21,19,19],[32,23,19,21,"cache"],[32,28,19,26],[32,30,19,28,"serializer"],[32,40,19,38],[32,42,19,40,"arg"],[32,45,19,43],[32,47,19,45],[33,4,20,4],[33,8,20,8,"cacheKey"],[33,16,20,16],[33,19,20,19,"isPrimitive"],[33,30,20,30],[33,31,20,31,"arg"],[33,34,20,34],[33,35,20,35],[33,38,20,38,"arg"],[33,41,20,41],[33,44,20,44,"serializer"],[33,54,20,54],[33,55,20,55,"arg"],[33,58,20,58],[33,59,20,59],[34,4,21,4],[34,8,21,8,"computedValue"],[34,21,21,21],[34,24,21,24,"cache"],[34,29,21,29],[34,30,21,30,"get"],[34,33,21,33],[34,34,21,34,"cacheKey"],[34,42,21,42],[34,43,21,43],[35,4,22,4],[35,8,22,8],[35,15,22,15,"computedValue"],[35,28,22,28],[35,33,22,33],[35,44,22,44],[35,46,22,46],[36,6,23,8,"computedValue"],[36,19,23,21],[36,22,23,24,"fn"],[36,24,23,26],[36,25,23,27,"call"],[36,29,23,31],[36,30,23,32],[36,34,23,36],[36,36,23,38,"arg"],[36,39,23,41],[36,40,23,42],[37,6,24,8,"cache"],[37,11,24,13],[37,12,24,14,"set"],[37,15,24,17],[37,16,24,18,"cacheKey"],[37,24,24,26],[37,26,24,28,"computedValue"],[37,39,24,41],[37,40,24,42],[38,4,25,4],[39,4,26,4],[39,11,26,11,"computedValue"],[39,24,26,24],[40,2,27,0],[41,2,28,0],[41,11,28,9,"variadic"],[41,19,28,17,"variadic"],[41,20,28,18,"fn"],[41,22,28,20],[41,24,28,22,"cache"],[41,29,28,27],[41,31,28,29,"serializer"],[41,41,28,39],[41,43,28,41],[42,4,29,4],[42,8,29,8,"args"],[42,12,29,12],[42,15,29,15,"Array"],[42,20,29,20],[42,21,29,21,"prototype"],[42,30,29,30],[42,31,29,31,"slice"],[42,36,29,36],[42,37,29,37,"call"],[42,41,29,41],[42,42,29,42,"arguments"],[42,51,29,51],[42,53,29,53],[42,54,29,54],[42,55,29,55],[43,4,30,4],[43,8,30,8,"cacheKey"],[43,16,30,16],[43,19,30,19,"serializer"],[43,29,30,29],[43,30,30,30,"args"],[43,34,30,34],[43,35,30,35],[44,4,31,4],[44,8,31,8,"computedValue"],[44,21,31,21],[44,24,31,24,"cache"],[44,29,31,29],[44,30,31,30,"get"],[44,33,31,33],[44,34,31,34,"cacheKey"],[44,42,31,42],[44,43,31,43],[45,4,32,4],[45,8,32,8],[45,15,32,15,"computedValue"],[45,28,32,28],[45,33,32,33],[45,44,32,44],[45,46,32,46],[46,6,33,8,"computedValue"],[46,19,33,21],[46,22,33,24,"fn"],[46,24,33,26],[46,25,33,27,"apply"],[46,30,33,32],[46,31,33,33],[46,35,33,37],[46,37,33,39,"args"],[46,41,33,43],[46,42,33,44],[47,6,34,8,"cache"],[47,11,34,13],[47,12,34,14,"set"],[47,15,34,17],[47,16,34,18,"cacheKey"],[47,24,34,26],[47,26,34,28,"computedValue"],[47,39,34,41],[47,40,34,42],[48,4,35,4],[49,4,36,4],[49,11,36,11,"computedValue"],[49,24,36,24],[50,2,37,0],[51,2,38,0],[51,11,38,9,"assemble"],[51,19,38,17,"assemble"],[51,20,38,18,"fn"],[51,22,38,20],[51,24,38,22,"context"],[51,31,38,29],[51,33,38,31,"strategy"],[51,41,38,39],[51,43,38,41,"cache"],[51,48,38,46],[51,50,38,48,"serialize"],[51,59,38,57],[51,61,38,59],[52,4,39,4],[52,11,39,11,"strategy"],[52,19,39,19],[52,20,39,20,"bind"],[52,24,39,24],[52,25,39,25,"context"],[52,32,39,32],[52,34,39,34,"fn"],[52,36,39,36],[52,38,39,38,"cache"],[52,43,39,43],[52,45,39,45,"serialize"],[52,54,39,54],[52,55,39,55],[53,2,40,0],[54,2,41,0],[54,11,41,9,"strategyDefault"],[54,26,41,24,"strategyDefault"],[54,27,41,25,"fn"],[54,29,41,27],[54,31,41,29,"options"],[54,38,41,36],[54,40,41,38],[55,4,42,4],[55,8,42,8,"strategy"],[55,16,42,16],[55,19,42,19,"fn"],[55,21,42,21],[55,22,42,22,"length"],[55,28,42,28],[55,33,42,33],[55,34,42,34],[55,37,42,37,"monadic"],[55,44,42,44],[55,47,42,47,"variadic"],[55,55,42,55],[56,4,43,4],[56,11,43,11,"assemble"],[56,19,43,19],[56,20,43,20,"fn"],[56,22,43,22],[56,24,43,24],[56,28,43,28],[56,30,43,30,"strategy"],[56,38,43,38],[56,40,43,40,"options"],[56,47,43,47],[56,48,43,48,"cache"],[56,53,43,53],[56,54,43,54,"create"],[56,60,43,60],[56,61,43,61],[56,62,43,62],[56,64,43,64,"options"],[56,71,43,71],[56,72,43,72,"serializer"],[56,82,43,82],[56,83,43,83],[57,2,44,0],[58,2,45,0],[58,11,45,9,"strategyVariadic"],[58,27,45,25,"strategyVariadic"],[58,28,45,26,"fn"],[58,30,45,28],[58,32,45,30,"options"],[58,39,45,37],[58,41,45,39],[59,4,46,4],[59,11,46,11,"assemble"],[59,19,46,19],[59,20,46,20,"fn"],[59,22,46,22],[59,24,46,24],[59,28,46,28],[59,30,46,30,"variadic"],[59,38,46,38],[59,40,46,40,"options"],[59,47,46,47],[59,48,46,48,"cache"],[59,53,46,53],[59,54,46,54,"create"],[59,60,46,60],[59,61,46,61],[59,62,46,62],[59,64,46,64,"options"],[59,71,46,71],[59,72,46,72,"serializer"],[59,82,46,82],[59,83,46,83],[60,2,47,0],[61,2,48,0],[61,11,48,9,"strategyMonadic"],[61,26,48,24,"strategyMonadic"],[61,27,48,25,"fn"],[61,29,48,27],[61,31,48,29,"options"],[61,38,48,36],[61,40,48,38],[62,4,49,4],[62,11,49,11,"assemble"],[62,19,49,19],[62,20,49,20,"fn"],[62,22,49,22],[62,24,49,24],[62,28,49,28],[62,30,49,30,"monadic"],[62,37,49,37],[62,39,49,39,"options"],[62,46,49,46],[62,47,49,47,"cache"],[62,52,49,52],[62,53,49,53,"create"],[62,59,49,59],[62,60,49,60],[62,61,49,61],[62,63,49,63,"options"],[62,70,49,70],[62,71,49,71,"serializer"],[62,81,49,81],[62,82,49,82],[63,2,50,0],[64,2,51,0],[65,2,52,0],[66,2,53,0],[67,2,54,0],[67,6,54,4,"serializerDefault"],[67,23,54,21],[67,26,54,24],[67,35,54,24,"serializerDefault"],[67,36,54,24],[67,38,54,36],[68,4,55,4],[68,11,55,11,"JSON"],[68,15,55,15],[68,16,55,16,"stringify"],[68,25,55,25],[68,26,55,26,"arguments"],[68,35,55,35],[68,36,55,36],[69,2,56,0],[69,3,56,1],[70,2,57,0],[71,2,58,0],[72,2,59,0],[73,2,60,0],[73,6,60,4,"ObjectWithoutPrototypeCache"],[73,33,60,31],[73,36,60,34],[73,49,60,49],[73,61,60,61],[74,4,61,4],[74,13,61,13,"ObjectWithoutPrototypeCache"],[74,40,61,40,"ObjectWithoutPrototypeCache"],[74,41,61,40],[74,43,61,43],[75,6,62,8],[75,10,62,12],[75,11,62,13,"cache"],[75,16,62,18],[75,19,62,21,"Object"],[75,25,62,27],[75,26,62,28,"create"],[75,32,62,34],[75,33,62,35],[75,37,62,39],[75,38,62,40],[76,4,63,4],[77,4,64,4,"ObjectWithoutPrototypeCache"],[77,31,64,31],[77,32,64,32,"prototype"],[77,41,64,41],[77,42,64,42,"get"],[77,45,64,45],[77,48,64,48],[77,58,64,58,"key"],[77,61,64,61],[77,63,64,63],[78,6,65,8],[78,13,65,15],[78,17,65,19],[78,18,65,20,"cache"],[78,23,65,25],[78,24,65,26,"key"],[78,27,65,29],[78,28,65,30],[79,4,66,4],[79,5,66,5],[80,4,67,4,"ObjectWithoutPrototypeCache"],[80,31,67,31],[80,32,67,32,"prototype"],[80,41,67,41],[80,42,67,42,"set"],[80,45,67,45],[80,48,67,48],[80,58,67,58,"key"],[80,61,67,61],[80,63,67,63,"value"],[80,68,67,68],[80,70,67,70],[81,6,68,8],[81,10,68,12],[81,11,68,13,"cache"],[81,16,68,18],[81,17,68,19,"key"],[81,20,68,22],[81,21,68,23],[81,24,68,26,"value"],[81,29,68,31],[82,4,69,4],[82,5,69,5],[83,4,70,4],[83,11,70,11,"ObjectWithoutPrototypeCache"],[83,38,70,38],[84,2,71,0],[84,3,71,1],[84,4,71,2],[84,5,71,4],[85,2,72,0],[85,6,72,4,"cacheDefault"],[85,18,72,16],[85,21,72,19],[86,4,73,4,"create"],[86,10,73,10],[86,12,73,12],[86,21,73,21,"create"],[86,27,73,27,"create"],[86,28,73,27],[86,30,73,30],[87,6,74,8],[87,13,74,15],[87,17,74,19,"ObjectWithoutPrototypeCache"],[87,44,74,46],[87,45,74,47],[87,46,74,48],[88,4,75,4],[89,2,76,0],[89,3,76,1],[90,2,77,7],[90,6,77,11,"strategies"],[90,16,77,21],[90,19,77,24],[91,4,78,4,"variadic"],[91,12,78,12],[91,14,78,14,"strategyVariadic"],[91,30,78,30],[92,4,79,4,"monadic"],[92,11,79,11],[92,13,79,13,"strategyMonadic"],[93,2,80,0],[93,3,80,1],[94,0,80,2],[94,3]],"functionMap":{"names":["<global>","memoize","isPrimitive","monadic","variadic","assemble","strategyDefault","strategyVariadic","strategyMonadic","serializerDefault","<anonymous>","ObjectWithoutPrototypeCache","ObjectWithoutPrototypeCache.prototype.get","ObjectWithoutPrototypeCache.prototype.set","create"],"mappings":"AAA;OCG;CDQ;AEI;CFE;AGC;CHQ;AIC;CJS;AKC;CLE;AMC;CNG;AOC;CPE;AQC;CRE;wBSI;CTE;iDUI;ICC;KDE;gDEC;KFE;gDGC;KHE;CVE;YcE;KdE"},"hasCjsExports":false},"type":"js/module"}]}