{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"firebase/auth","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":115},"end":{"line":12,"column":23,"index":336}}],"key":"o2UvaebosmgxImAY7KlhPO3FnYs=","exportNames":["*"],"imports":1}},{"name":"../config/firebase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":337},"end":{"line":13,"column":42,"index":379}}],"key":"K/SZPG5sPeV1upVh8dao26aG7MQ=","exportNames":["*"],"imports":1}},{"name":"expo-auth-session/providers/google","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":14,"column":0,"index":380},"end":{"line":14,"column":61,"index":441}}],"key":"KJ2vgQabXr9/42RVx12JuIYJZZM=","exportNames":["*"],"imports":1}},{"name":"expo-web-browser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0,"index":442},"end":{"line":15,"column":47,"index":489}}],"key":"qFWzf28Sq0474idIhFBHQFboHaY=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _firebaseAuth = require(_dependencyMap[1], \"firebase/auth\");\n  var _configFirebase = require(_dependencyMap[2], \"../config/firebase\");\n  var _expoAuthSessionProvidersGoogle = require(_dependencyMap[3], \"expo-auth-session/providers/google\");\n  var Google = _interopNamespace(_expoAuthSessionProvidersGoogle);\n  var _expoWebBrowser = require(_dependencyMap[4], \"expo-web-browser\");\n  var WebBrowser = _interopNamespace(_expoWebBrowser);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[5], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactJsxDevRuntime = require(_dependencyMap[6], \"react/jsx-dev-runtime\");\n  WebBrowser.maybeCompleteAuthSession();\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n\n    // Get Web Client ID from Firebase config\n    const webClientId = process.env.EXPO_PUBLIC_FIREBASE_WEB_CLIENT_ID || `${process.env.EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID}.apps.googleusercontent.com`;\n    const [request, response, promptAsync] = Google.useIdTokenAuthRequest({\n      clientId: webClientId\n    });\n    (0, _react.useEffect)(() => {\n      const unsubscribe = (0, _firebaseAuth.onAuthStateChanged)(_configFirebase.auth, user => {\n        setUser(user);\n        setLoading(false);\n      });\n      return unsubscribe;\n    }, []);\n\n    // Handle Google Sign In response\n    (0, _react.useEffect)(() => {\n      if (response?.type === 'success') {\n        const {\n          id_token\n        } = response.params;\n        const credential = _firebaseAuth.GoogleAuthProvider.credential(id_token);\n        (0, _firebaseAuth.signInWithCredential)(_configFirebase.auth, credential).then(() => {\n          console.log('Google sign in successful');\n        }).catch(error => {\n          console.error('Error signing in with Google:', error);\n        });\n      }\n    }, [response]);\n    const signUp = async (email, password) => {\n      await (0, _firebaseAuth.createUserWithEmailAndPassword)(_configFirebase.auth, email, password);\n    };\n    const signIn = async (email, password) => {\n      await (0, _firebaseAuth.signInWithEmailAndPassword)(_configFirebase.auth, email, password);\n    };\n    const signInWithGoogle = async () => {\n      if (Platform.default.OS === 'web') {\n        // For web, use popup\n        const provider = new _firebaseAuth.GoogleAuthProvider();\n        try {\n          await (0, _firebaseAuth.signInWithPopup)(_configFirebase.auth, provider);\n        } catch (error) {\n          console.error('Google sign in error:', error);\n          throw error;\n        }\n      } else {\n        // For native, use expo-auth-session\n        await promptAsync();\n      }\n    };\n    const signOut = async () => {\n      await (0, _firebaseAuth.signOut)(_configFirebase.auth);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        signUp,\n        signIn,\n        signInWithGoogle,\n        signOut\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }, this);\n  };\n});","lineCount":132,"map":[[28,2,31,0,"Object"],[28,8,31,0],[28,9,31,0,"defineProperty"],[28,23,31,0],[28,24,31,0,"exports"],[28,31,31,0],[29,4,31,0,"enumerable"],[29,14,31,0],[30,4,31,0,"get"],[30,7,31,0],[30,18,31,0,"get"],[30,19,31,0],[31,6,31,0],[31,13,31,0,"useAuth"],[31,20,31,0],[32,4,31,0],[33,2,31,0],[34,2,43,0,"Object"],[34,8,43,0],[34,9,43,0,"defineProperty"],[34,23,43,0],[34,24,43,0,"exports"],[34,31,43,0],[35,4,43,0,"enumerable"],[35,14,43,0],[36,4,43,0,"get"],[36,7,43,0],[36,18,43,0,"get"],[36,19,43,0],[37,6,43,0],[37,13,43,0,"AuthProvider"],[37,25,43,0],[38,4,43,0],[39,2,43,0],[40,2,1,0],[40,6,1,0,"_react"],[40,12,1,0],[40,15,1,0,"require"],[40,22,1,0],[40,23,1,0,"_dependencyMap"],[40,37,1,0],[41,2,3,0],[41,6,3,0,"_firebaseAuth"],[41,19,3,0],[41,22,3,0,"require"],[41,29,3,0],[41,30,3,0,"_dependencyMap"],[41,44,3,0],[42,2,13,0],[42,6,13,0,"_configFirebase"],[42,21,13,0],[42,24,13,0,"require"],[42,31,13,0],[42,32,13,0,"_dependencyMap"],[42,46,13,0],[43,2,14,0],[43,6,14,0,"_expoAuthSessionProvidersGoogle"],[43,37,14,0],[43,40,14,0,"require"],[43,47,14,0],[43,48,14,0,"_dependencyMap"],[43,62,14,0],[44,2,14,0],[44,6,14,0,"Google"],[44,12,14,0],[44,15,14,0,"_interopNamespace"],[44,32,14,0],[44,33,14,0,"_expoAuthSessionProvidersGoogle"],[44,64,14,0],[45,2,15,0],[45,6,15,0,"_expoWebBrowser"],[45,21,15,0],[45,24,15,0,"require"],[45,31,15,0],[45,32,15,0,"_dependencyMap"],[45,46,15,0],[46,2,15,0],[46,6,15,0,"WebBrowser"],[46,16,15,0],[46,19,15,0,"_interopNamespace"],[46,36,15,0],[46,37,15,0,"_expoWebBrowser"],[46,52,15,0],[47,2,15,47],[47,6,15,47,"_reactNativeWebDistExportsPlatform"],[47,40,15,47],[47,43,15,47,"require"],[47,50,15,47],[47,51,15,47,"_dependencyMap"],[47,65,15,47],[48,2,15,47],[48,6,15,47,"Platform"],[48,14,15,47],[48,17,15,47,"_interopDefault"],[48,32,15,47],[48,33,15,47,"_reactNativeWebDistExportsPlatform"],[48,67,15,47],[49,2,15,47],[49,6,15,47,"_reactJsxDevRuntime"],[49,25,15,47],[49,28,15,47,"require"],[49,35,15,47],[49,36,15,47,"_dependencyMap"],[49,50,15,47],[50,2,18,0,"WebBrowser"],[50,12,18,10],[50,13,18,11,"maybeCompleteAuthSession"],[50,37,18,35],[50,38,18,36],[50,39,18,37],[51,2,29,0],[51,8,29,6,"AuthContext"],[51,19,29,17],[51,35,29,20],[51,39,29,20,"createContext"],[51,45,29,33],[51,46,29,33,"createContext"],[51,59,29,33],[51,61,29,63,"undefined"],[51,70,29,72],[51,71,29,73],[52,2,31,7],[52,8,31,13,"useAuth"],[52,15,31,20],[52,18,31,23,"useAuth"],[52,19,31,23],[52,24,31,29],[53,4,32,2],[53,10,32,8,"context"],[53,17,32,15],[53,20,32,18],[53,24,32,18,"useContext"],[53,30,32,28],[53,31,32,28,"useContext"],[53,41,32,28],[53,43,32,29,"AuthContext"],[53,54,32,40],[53,55,32,41],[54,4,33,2],[54,8,33,6],[54,9,33,7,"context"],[54,16,33,14],[54,18,33,16],[55,6,34,4],[55,12,34,10],[55,16,34,14,"Error"],[55,21,34,19],[55,22,34,20],[55,67,34,65],[55,68,34,66],[56,4,35,2],[57,4,36,2],[57,11,36,9,"context"],[57,18,36,16],[58,2,37,0],[58,3,37,1],[59,2,43,7],[59,8,43,13,"AuthProvider"],[59,20,43,54],[59,23,43,57,"AuthProvider"],[59,24,43,58],[60,4,43,60,"children"],[61,2,43,69],[61,3,43,70],[61,8,43,75],[62,4,44,2],[62,10,44,8],[62,11,44,9,"user"],[62,15,44,13],[62,17,44,15,"setUser"],[62,24,44,22],[62,25,44,23],[62,28,44,26],[62,32,44,26,"useState"],[62,38,44,34],[62,39,44,34,"useState"],[62,47,44,34],[62,49,44,48],[62,53,44,52],[62,54,44,53],[63,4,45,2],[63,10,45,8],[63,11,45,9,"loading"],[63,18,45,16],[63,20,45,18,"setLoading"],[63,30,45,28],[63,31,45,29],[63,34,45,32],[63,38,45,32,"useState"],[63,44,45,40],[63,45,45,40,"useState"],[63,53,45,40],[63,55,45,41],[63,59,45,45],[63,60,45,46],[65,4,47,2],[66,4,48,2],[66,10,48,8,"webClientId"],[66,21,48,19],[66,24,48,22,"process"],[66,31,48,29],[66,32,48,30,"env"],[66,35,48,33],[66,36,48,34,"EXPO_PUBLIC_FIREBASE_WEB_CLIENT_ID"],[66,70,48,68],[66,74,49,4],[66,77,49,7,"process"],[66,84,49,14],[66,85,49,15,"env"],[66,88,49,18],[66,89,49,19,"EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID"],[66,129,49,59],[66,158,49,88],[67,4,51,2],[67,10,51,8],[67,11,51,9,"request"],[67,18,51,16],[67,20,51,18,"response"],[67,28,51,26],[67,30,51,28,"promptAsync"],[67,41,51,39],[67,42,51,40],[67,45,51,43,"Google"],[67,51,51,49],[67,52,51,50,"useIdTokenAuthRequest"],[67,73,51,71],[67,74,52,4],[68,6,53,6,"clientId"],[68,14,53,14],[68,16,53,16,"webClientId"],[69,4,54,4],[69,5,55,2],[69,6,55,3],[70,4,57,2],[70,8,57,2,"useEffect"],[70,14,57,11],[70,15,57,11,"useEffect"],[70,24,57,11],[70,26,57,12],[70,32,57,18],[71,6,58,4],[71,12,58,10,"unsubscribe"],[71,23,58,21],[71,26,58,24],[71,30,58,24,"onAuthStateChanged"],[71,43,58,42],[71,44,58,42,"onAuthStateChanged"],[71,62,58,42],[71,64,58,43,"auth"],[71,79,58,47],[71,80,58,47,"auth"],[71,84,58,47],[71,86,58,50,"user"],[71,90,58,54],[71,94,58,59],[72,8,59,6,"setUser"],[72,15,59,13],[72,16,59,14,"user"],[72,20,59,18],[72,21,59,19],[73,8,60,6,"setLoading"],[73,18,60,16],[73,19,60,17],[73,24,60,22],[73,25,60,23],[74,6,61,4],[74,7,61,5],[74,8,61,6],[75,6,63,4],[75,13,63,11,"unsubscribe"],[75,24,63,22],[76,4,64,2],[76,5,64,3],[76,7,64,5],[76,9,64,7],[76,10,64,8],[78,4,66,2],[79,4,67,2],[79,8,67,2,"useEffect"],[79,14,67,11],[79,15,67,11,"useEffect"],[79,24,67,11],[79,26,67,12],[79,32,67,18],[80,6,68,4],[80,10,68,8,"response"],[80,18,68,16],[80,20,68,18,"type"],[80,24,68,22],[80,29,68,27],[80,38,68,36],[80,40,68,38],[81,8,69,6],[81,14,69,12],[82,10,69,14,"id_token"],[83,8,69,23],[83,9,69,24],[83,12,69,27,"response"],[83,20,69,35],[83,21,69,36,"params"],[83,27,69,42],[84,8,71,6],[84,14,71,12,"credential"],[84,24,71,22],[84,27,71,25,"GoogleAuthProvider"],[84,40,71,43],[84,41,71,43,"GoogleAuthProvider"],[84,59,71,43],[84,60,71,44,"credential"],[84,70,71,54],[84,71,71,55,"id_token"],[84,79,71,63],[84,80,71,64],[85,8,72,6],[85,12,72,6,"signInWithCredential"],[85,25,72,26],[85,26,72,26,"signInWithCredential"],[85,46,72,26],[85,48,72,27,"auth"],[85,63,72,31],[85,64,72,31,"auth"],[85,68,72,31],[85,70,72,33,"credential"],[85,80,72,43],[85,81,72,44],[85,82,73,9,"then"],[85,86,73,13],[85,87,73,14],[85,93,73,20],[86,10,74,10,"console"],[86,17,74,17],[86,18,74,18,"log"],[86,21,74,21],[86,22,74,22],[86,49,74,49],[86,50,74,50],[87,8,75,8],[87,9,75,9],[87,10,75,10],[87,11,76,9,"catch"],[87,16,76,14],[87,17,76,16,"error"],[87,22,76,21],[87,26,76,26],[88,10,77,10,"console"],[88,17,77,17],[88,18,77,18,"error"],[88,23,77,23],[88,24,77,24],[88,55,77,55],[88,57,77,57,"error"],[88,62,77,62],[88,63,77,63],[89,8,78,8],[89,9,78,9],[89,10,78,10],[90,6,79,4],[91,4,80,2],[91,5,80,3],[91,7,80,5],[91,8,80,6,"response"],[91,16,80,14],[91,17,80,15],[91,18,80,16],[92,4,82,2],[92,10,82,8,"signUp"],[92,16,82,14],[92,19,82,17],[92,25,82,17,"signUp"],[92,26,82,24,"email"],[92,31,82,37],[92,33,82,39,"password"],[92,41,82,55],[92,46,82,60],[93,6,83,4],[93,12,83,10],[93,16,83,10,"createUserWithEmailAndPassword"],[93,29,83,40],[93,30,83,40,"createUserWithEmailAndPassword"],[93,60,83,40],[93,62,83,41,"auth"],[93,77,83,45],[93,78,83,45,"auth"],[93,82,83,45],[93,84,83,47,"email"],[93,89,83,52],[93,91,83,54,"password"],[93,99,83,62],[93,100,83,63],[94,4,84,2],[94,5,84,3],[95,4,86,2],[95,10,86,8,"signIn"],[95,16,86,14],[95,19,86,17],[95,25,86,17,"signIn"],[95,26,86,24,"email"],[95,31,86,37],[95,33,86,39,"password"],[95,41,86,55],[95,46,86,60],[96,6,87,4],[96,12,87,10],[96,16,87,10,"signInWithEmailAndPassword"],[96,29,87,36],[96,30,87,36,"signInWithEmailAndPassword"],[96,56,87,36],[96,58,87,37,"auth"],[96,73,87,41],[96,74,87,41,"auth"],[96,78,87,41],[96,80,87,43,"email"],[96,85,87,48],[96,87,87,50,"password"],[96,95,87,58],[96,96,87,59],[97,4,88,2],[97,5,88,3],[98,4,90,2],[98,10,90,8,"signInWithGoogle"],[98,26,90,24],[98,29,90,27],[98,35,90,27,"signInWithGoogle"],[98,36,90,27],[98,41,90,39],[99,6,91,4],[99,10,91,8,"Platform"],[99,18,91,16],[99,19,91,16,"default"],[99,26,91,16],[99,27,91,17,"OS"],[99,29,91,19],[99,34,91,24],[99,39,91,29],[99,41,91,31],[100,8,92,6],[101,8,93,6],[101,14,93,12,"provider"],[101,22,93,20],[101,25,93,23],[101,29,93,27,"GoogleAuthProvider"],[101,42,93,45],[101,43,93,45,"GoogleAuthProvider"],[101,61,93,45],[101,62,93,46],[101,63,93,47],[102,8,94,6],[102,12,94,10],[103,10,95,8],[103,16,95,14],[103,20,95,14,"signInWithPopup"],[103,33,95,29],[103,34,95,29,"signInWithPopup"],[103,49,95,29],[103,51,95,30,"auth"],[103,66,95,34],[103,67,95,34,"auth"],[103,71,95,34],[103,73,95,36,"provider"],[103,81,95,44],[103,82,95,45],[104,8,96,6],[104,9,96,7],[104,10,96,8],[104,17,96,15,"error"],[104,22,96,20],[104,24,96,22],[105,10,97,8,"console"],[105,17,97,15],[105,18,97,16,"error"],[105,23,97,21],[105,24,97,22],[105,47,97,45],[105,49,97,47,"error"],[105,54,97,52],[105,55,97,53],[106,10,98,8],[106,16,98,14,"error"],[106,21,98,19],[107,8,99,6],[108,6,100,4],[108,7,100,5],[108,13,100,11],[109,8,101,6],[110,8,102,6],[110,14,102,12,"promptAsync"],[110,25,102,23],[110,26,102,24],[110,27,102,25],[111,6,103,4],[112,4,104,2],[112,5,104,3],[113,4,106,2],[113,10,106,8,"signOut"],[113,17,106,15],[113,20,106,18],[113,26,106,18,"signOut"],[113,27,106,18],[113,32,106,30],[114,6,107,4],[114,12,107,10],[114,16,107,10,"firebaseSignOut"],[114,29,107,25],[114,30,107,25,"signOut"],[114,37,107,25],[114,39,107,26,"auth"],[114,54,107,30],[114,55,107,30,"auth"],[114,59,107,30],[114,60,107,31],[115,4,108,2],[115,5,108,3],[116,4,110,2],[116,24,111,4],[116,28,111,4,"_reactJsxDevRuntime"],[116,47,111,4],[116,48,111,4,"jsxDEV"],[116,54,111,4],[116,56,111,5,"AuthContext"],[116,67,111,16],[116,68,111,17,"Provider"],[116,76,111,25],[117,6,111,26,"value"],[117,11,111,31],[117,13,111,33],[118,8,111,35,"user"],[118,12,111,39],[119,8,111,41,"loading"],[119,15,111,48],[120,8,111,50,"signUp"],[120,14,111,56],[121,8,111,58,"signIn"],[121,14,111,64],[122,8,111,66,"signInWithGoogle"],[122,24,111,82],[123,8,111,84,"signOut"],[124,6,111,92],[124,7,111,94],[125,6,111,94,"children"],[125,14,111,94],[125,16,112,7,"children"],[126,4,112,15],[127,6,112,15,"fileName"],[127,14,112,15],[127,16,112,15,"_jsxFileName"],[127,28,112,15],[128,6,112,15,"lineNumber"],[128,16,112,15],[129,6,112,15,"columnNumber"],[129,18,112,15],[130,4,112,15],[130,11,113,26],[130,12,113,27],[131,2,115,0],[131,3,115,1],[132,0,115,2],[132,3]],"functionMap":{"names":["<global>","useAuth","AuthProvider","useEffect$argument_0","onAuthStateChanged$argument_1","signInWithCredential.then$argument_0","signInWithCredential.then._catch$argument_0","signUp","signIn","signInWithGoogle","signOut"],"mappings":"AAA;uBC8B;CDM;yDEM;YCc;iDCC;KDG;GDG;YCG;cEM;SFE;eGC;SHE;GDE;iBKE;GLE;iBME;GNE;2BOE;GPc;kBQE;GRE;CFO"},"hasCjsExports":false},"type":"js/module"}]}