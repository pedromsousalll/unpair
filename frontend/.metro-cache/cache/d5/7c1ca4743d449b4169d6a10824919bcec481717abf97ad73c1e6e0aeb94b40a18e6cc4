{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  //\n  // Main\n  //\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.strategies = void 0;\n  exports.memoize = memoize;\n  function memoize(fn, options) {\n    var cache = options && options.cache ? options.cache : cacheDefault;\n    var serializer = options && options.serializer ? options.serializer : serializerDefault;\n    var strategy = options && options.strategy ? options.strategy : strategyDefault;\n    return strategy(fn, {\n      cache: cache,\n      serializer: serializer\n    });\n  }\n  //\n  // Strategy\n  //\n  function isPrimitive(value) {\n    return value == null || typeof value === 'number' || typeof value === 'boolean'; // || typeof value === \"string\" 'unsafe' primitive for our needs\n  }\n  function monadic(fn, cache, serializer, arg) {\n    var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n      computedValue = fn.call(this, arg);\n      cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n  }\n  function variadic(fn, cache, serializer) {\n    var args = Array.prototype.slice.call(arguments, 3);\n    var cacheKey = serializer(args);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n      computedValue = fn.apply(this, args);\n      cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n  }\n  function assemble(fn, context, strategy, cache, serialize) {\n    return strategy.bind(context, fn, cache, serialize);\n  }\n  function strategyDefault(fn, options) {\n    var strategy = fn.length === 1 ? monadic : variadic;\n    return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n  }\n  function strategyVariadic(fn, options) {\n    return assemble(fn, this, variadic, options.cache.create(), options.serializer);\n  }\n  function strategyMonadic(fn, options) {\n    return assemble(fn, this, monadic, options.cache.create(), options.serializer);\n  }\n  //\n  // Serializer\n  //\n  var serializerDefault = function () {\n    return JSON.stringify(arguments);\n  };\n  //\n  // Cache\n  //\n  var ObjectWithoutPrototypeCache = /** @class */function () {\n    function ObjectWithoutPrototypeCache() {\n      this.cache = Object.create(null);\n    }\n    ObjectWithoutPrototypeCache.prototype.get = function (key) {\n      return this.cache[key];\n    };\n    ObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n      this.cache[key] = value;\n    };\n    return ObjectWithoutPrototypeCache;\n  }();\n  var cacheDefault = {\n    create: function create() {\n      return new ObjectWithoutPrototypeCache();\n    }\n  };\n  exports.strategies = {\n    variadic: strategyVariadic,\n    monadic: strategyMonadic\n  };\n});","lineCount":89,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[5,2,3,0],[6,2,4,0],[7,2,5,0,"Object"],[7,8,5,6],[7,9,5,7,"defineProperty"],[7,23,5,21],[7,24,5,22,"exports"],[7,31,5,29],[7,33,5,31],[7,45,5,43],[7,47,5,45],[8,4,5,47,"value"],[8,9,5,52],[8,11,5,54],[9,2,5,59],[9,3,5,60],[9,4,5,61],[10,2,6,0,"exports"],[10,9,6,7],[10,10,6,8,"strategies"],[10,20,6,18],[10,23,6,21],[10,28,6,26],[10,29,6,27],[11,2,7,0,"exports"],[11,9,7,7],[11,10,7,8,"memoize"],[11,17,7,15],[11,20,7,18,"memoize"],[11,27,7,25],[12,2,8,0],[12,11,8,9,"memoize"],[12,18,8,16,"memoize"],[12,19,8,17,"fn"],[12,21,8,19],[12,23,8,21,"options"],[12,30,8,28],[12,32,8,30],[13,4,9,4],[13,8,9,8,"cache"],[13,13,9,13],[13,16,9,16,"options"],[13,23,9,23],[13,27,9,27,"options"],[13,34,9,34],[13,35,9,35,"cache"],[13,40,9,40],[13,43,9,43,"options"],[13,50,9,50],[13,51,9,51,"cache"],[13,56,9,56],[13,59,9,59,"cacheDefault"],[13,71,9,71],[14,4,10,4],[14,8,10,8,"serializer"],[14,18,10,18],[14,21,10,21,"options"],[14,28,10,28],[14,32,10,32,"options"],[14,39,10,39],[14,40,10,40,"serializer"],[14,50,10,50],[14,53,10,53,"options"],[14,60,10,60],[14,61,10,61,"serializer"],[14,71,10,71],[14,74,10,74,"serializerDefault"],[14,91,10,91],[15,4,11,4],[15,8,11,8,"strategy"],[15,16,11,16],[15,19,11,19,"options"],[15,26,11,26],[15,30,11,30,"options"],[15,37,11,37],[15,38,11,38,"strategy"],[15,46,11,46],[15,49,11,49,"options"],[15,56,11,56],[15,57,11,57,"strategy"],[15,65,11,65],[15,68,11,68,"strategyDefault"],[15,83,11,83],[16,4,12,4],[16,11,12,11,"strategy"],[16,19,12,19],[16,20,12,20,"fn"],[16,22,12,22],[16,24,12,24],[17,6,13,8,"cache"],[17,11,13,13],[17,13,13,15,"cache"],[17,18,13,20],[18,6,14,8,"serializer"],[18,16,14,18],[18,18,14,20,"serializer"],[19,4,15,4],[19,5,15,5],[19,6,15,6],[20,2,16,0],[21,2,17,0],[22,2,18,0],[23,2,19,0],[24,2,20,0],[24,11,20,9,"isPrimitive"],[24,22,20,20,"isPrimitive"],[24,23,20,21,"value"],[24,28,20,26],[24,30,20,28],[25,4,21,4],[25,11,21,12,"value"],[25,16,21,17],[25,20,21,21],[25,24,21,25],[25,28,21,29],[25,35,21,36,"value"],[25,40,21,41],[25,45,21,46],[25,53,21,54],[25,57,21,58],[25,64,21,65,"value"],[25,69,21,70],[25,74,21,75],[25,83,21,84],[25,84,21,86],[25,85,21,87],[26,2,22,0],[27,2,23,0],[27,11,23,9,"monadic"],[27,18,23,16,"monadic"],[27,19,23,17,"fn"],[27,21,23,19],[27,23,23,21,"cache"],[27,28,23,26],[27,30,23,28,"serializer"],[27,40,23,38],[27,42,23,40,"arg"],[27,45,23,43],[27,47,23,45],[28,4,24,4],[28,8,24,8,"cacheKey"],[28,16,24,16],[28,19,24,19,"isPrimitive"],[28,30,24,30],[28,31,24,31,"arg"],[28,34,24,34],[28,35,24,35],[28,38,24,38,"arg"],[28,41,24,41],[28,44,24,44,"serializer"],[28,54,24,54],[28,55,24,55,"arg"],[28,58,24,58],[28,59,24,59],[29,4,25,4],[29,8,25,8,"computedValue"],[29,21,25,21],[29,24,25,24,"cache"],[29,29,25,29],[29,30,25,30,"get"],[29,33,25,33],[29,34,25,34,"cacheKey"],[29,42,25,42],[29,43,25,43],[30,4,26,4],[30,8,26,8],[30,15,26,15,"computedValue"],[30,28,26,28],[30,33,26,33],[30,44,26,44],[30,46,26,46],[31,6,27,8,"computedValue"],[31,19,27,21],[31,22,27,24,"fn"],[31,24,27,26],[31,25,27,27,"call"],[31,29,27,31],[31,30,27,32],[31,34,27,36],[31,36,27,38,"arg"],[31,39,27,41],[31,40,27,42],[32,6,28,8,"cache"],[32,11,28,13],[32,12,28,14,"set"],[32,15,28,17],[32,16,28,18,"cacheKey"],[32,24,28,26],[32,26,28,28,"computedValue"],[32,39,28,41],[32,40,28,42],[33,4,29,4],[34,4,30,4],[34,11,30,11,"computedValue"],[34,24,30,24],[35,2,31,0],[36,2,32,0],[36,11,32,9,"variadic"],[36,19,32,17,"variadic"],[36,20,32,18,"fn"],[36,22,32,20],[36,24,32,22,"cache"],[36,29,32,27],[36,31,32,29,"serializer"],[36,41,32,39],[36,43,32,41],[37,4,33,4],[37,8,33,8,"args"],[37,12,33,12],[37,15,33,15,"Array"],[37,20,33,20],[37,21,33,21,"prototype"],[37,30,33,30],[37,31,33,31,"slice"],[37,36,33,36],[37,37,33,37,"call"],[37,41,33,41],[37,42,33,42,"arguments"],[37,51,33,51],[37,53,33,53],[37,54,33,54],[37,55,33,55],[38,4,34,4],[38,8,34,8,"cacheKey"],[38,16,34,16],[38,19,34,19,"serializer"],[38,29,34,29],[38,30,34,30,"args"],[38,34,34,34],[38,35,34,35],[39,4,35,4],[39,8,35,8,"computedValue"],[39,21,35,21],[39,24,35,24,"cache"],[39,29,35,29],[39,30,35,30,"get"],[39,33,35,33],[39,34,35,34,"cacheKey"],[39,42,35,42],[39,43,35,43],[40,4,36,4],[40,8,36,8],[40,15,36,15,"computedValue"],[40,28,36,28],[40,33,36,33],[40,44,36,44],[40,46,36,46],[41,6,37,8,"computedValue"],[41,19,37,21],[41,22,37,24,"fn"],[41,24,37,26],[41,25,37,27,"apply"],[41,30,37,32],[41,31,37,33],[41,35,37,37],[41,37,37,39,"args"],[41,41,37,43],[41,42,37,44],[42,6,38,8,"cache"],[42,11,38,13],[42,12,38,14,"set"],[42,15,38,17],[42,16,38,18,"cacheKey"],[42,24,38,26],[42,26,38,28,"computedValue"],[42,39,38,41],[42,40,38,42],[43,4,39,4],[44,4,40,4],[44,11,40,11,"computedValue"],[44,24,40,24],[45,2,41,0],[46,2,42,0],[46,11,42,9,"assemble"],[46,19,42,17,"assemble"],[46,20,42,18,"fn"],[46,22,42,20],[46,24,42,22,"context"],[46,31,42,29],[46,33,42,31,"strategy"],[46,41,42,39],[46,43,42,41,"cache"],[46,48,42,46],[46,50,42,48,"serialize"],[46,59,42,57],[46,61,42,59],[47,4,43,4],[47,11,43,11,"strategy"],[47,19,43,19],[47,20,43,20,"bind"],[47,24,43,24],[47,25,43,25,"context"],[47,32,43,32],[47,34,43,34,"fn"],[47,36,43,36],[47,38,43,38,"cache"],[47,43,43,43],[47,45,43,45,"serialize"],[47,54,43,54],[47,55,43,55],[48,2,44,0],[49,2,45,0],[49,11,45,9,"strategyDefault"],[49,26,45,24,"strategyDefault"],[49,27,45,25,"fn"],[49,29,45,27],[49,31,45,29,"options"],[49,38,45,36],[49,40,45,38],[50,4,46,4],[50,8,46,8,"strategy"],[50,16,46,16],[50,19,46,19,"fn"],[50,21,46,21],[50,22,46,22,"length"],[50,28,46,28],[50,33,46,33],[50,34,46,34],[50,37,46,37,"monadic"],[50,44,46,44],[50,47,46,47,"variadic"],[50,55,46,55],[51,4,47,4],[51,11,47,11,"assemble"],[51,19,47,19],[51,20,47,20,"fn"],[51,22,47,22],[51,24,47,24],[51,28,47,28],[51,30,47,30,"strategy"],[51,38,47,38],[51,40,47,40,"options"],[51,47,47,47],[51,48,47,48,"cache"],[51,53,47,53],[51,54,47,54,"create"],[51,60,47,60],[51,61,47,61],[51,62,47,62],[51,64,47,64,"options"],[51,71,47,71],[51,72,47,72,"serializer"],[51,82,47,82],[51,83,47,83],[52,2,48,0],[53,2,49,0],[53,11,49,9,"strategyVariadic"],[53,27,49,25,"strategyVariadic"],[53,28,49,26,"fn"],[53,30,49,28],[53,32,49,30,"options"],[53,39,49,37],[53,41,49,39],[54,4,50,4],[54,11,50,11,"assemble"],[54,19,50,19],[54,20,50,20,"fn"],[54,22,50,22],[54,24,50,24],[54,28,50,28],[54,30,50,30,"variadic"],[54,38,50,38],[54,40,50,40,"options"],[54,47,50,47],[54,48,50,48,"cache"],[54,53,50,53],[54,54,50,54,"create"],[54,60,50,60],[54,61,50,61],[54,62,50,62],[54,64,50,64,"options"],[54,71,50,71],[54,72,50,72,"serializer"],[54,82,50,82],[54,83,50,83],[55,2,51,0],[56,2,52,0],[56,11,52,9,"strategyMonadic"],[56,26,52,24,"strategyMonadic"],[56,27,52,25,"fn"],[56,29,52,27],[56,31,52,29,"options"],[56,38,52,36],[56,40,52,38],[57,4,53,4],[57,11,53,11,"assemble"],[57,19,53,19],[57,20,53,20,"fn"],[57,22,53,22],[57,24,53,24],[57,28,53,28],[57,30,53,30,"monadic"],[57,37,53,37],[57,39,53,39,"options"],[57,46,53,46],[57,47,53,47,"cache"],[57,52,53,52],[57,53,53,53,"create"],[57,59,53,59],[57,60,53,60],[57,61,53,61],[57,63,53,63,"options"],[57,70,53,70],[57,71,53,71,"serializer"],[57,81,53,81],[57,82,53,82],[58,2,54,0],[59,2,55,0],[60,2,56,0],[61,2,57,0],[62,2,58,0],[62,6,58,4,"serializerDefault"],[62,23,58,21],[62,26,58,24],[62,35,58,24,"serializerDefault"],[62,36,58,24],[62,38,58,36],[63,4,59,4],[63,11,59,11,"JSON"],[63,15,59,15],[63,16,59,16,"stringify"],[63,25,59,25],[63,26,59,26,"arguments"],[63,35,59,35],[63,36,59,36],[64,2,60,0],[64,3,60,1],[65,2,61,0],[66,2,62,0],[67,2,63,0],[68,2,64,0],[68,6,64,4,"ObjectWithoutPrototypeCache"],[68,33,64,31],[68,36,64,34],[68,49,64,49],[68,61,64,61],[69,4,65,4],[69,13,65,13,"ObjectWithoutPrototypeCache"],[69,40,65,40,"ObjectWithoutPrototypeCache"],[69,41,65,40],[69,43,65,43],[70,6,66,8],[70,10,66,12],[70,11,66,13,"cache"],[70,16,66,18],[70,19,66,21,"Object"],[70,25,66,27],[70,26,66,28,"create"],[70,32,66,34],[70,33,66,35],[70,37,66,39],[70,38,66,40],[71,4,67,4],[72,4,68,4,"ObjectWithoutPrototypeCache"],[72,31,68,31],[72,32,68,32,"prototype"],[72,41,68,41],[72,42,68,42,"get"],[72,45,68,45],[72,48,68,48],[72,58,68,58,"key"],[72,61,68,61],[72,63,68,63],[73,6,69,8],[73,13,69,15],[73,17,69,19],[73,18,69,20,"cache"],[73,23,69,25],[73,24,69,26,"key"],[73,27,69,29],[73,28,69,30],[74,4,70,4],[74,5,70,5],[75,4,71,4,"ObjectWithoutPrototypeCache"],[75,31,71,31],[75,32,71,32,"prototype"],[75,41,71,41],[75,42,71,42,"set"],[75,45,71,45],[75,48,71,48],[75,58,71,58,"key"],[75,61,71,61],[75,63,71,63,"value"],[75,68,71,68],[75,70,71,70],[76,6,72,8],[76,10,72,12],[76,11,72,13,"cache"],[76,16,72,18],[76,17,72,19,"key"],[76,20,72,22],[76,21,72,23],[76,24,72,26,"value"],[76,29,72,31],[77,4,73,4],[77,5,73,5],[78,4,74,4],[78,11,74,11,"ObjectWithoutPrototypeCache"],[78,38,74,38],[79,2,75,0],[79,3,75,1],[79,4,75,2],[79,5,75,4],[80,2,76,0],[80,6,76,4,"cacheDefault"],[80,18,76,16],[80,21,76,19],[81,4,77,4,"create"],[81,10,77,10],[81,12,77,12],[81,21,77,21,"create"],[81,27,77,27,"create"],[81,28,77,27],[81,30,77,30],[82,6,78,8],[82,13,78,15],[82,17,78,19,"ObjectWithoutPrototypeCache"],[82,44,78,46],[82,45,78,47],[82,46,78,48],[83,4,79,4],[84,2,80,0],[84,3,80,1],[85,2,81,0,"exports"],[85,9,81,7],[85,10,81,8,"strategies"],[85,20,81,18],[85,23,81,21],[86,4,82,4,"variadic"],[86,12,82,12],[86,14,82,14,"strategyVariadic"],[86,30,82,30],[87,4,83,4,"monadic"],[87,11,83,11],[87,13,83,13,"strategyMonadic"],[88,2,84,0],[88,3,84,1],[89,0,84,2],[89,3]],"functionMap":{"names":["<global>","memoize","isPrimitive","monadic","variadic","assemble","strategyDefault","strategyVariadic","strategyMonadic","serializerDefault","<anonymous>","ObjectWithoutPrototypeCache","ObjectWithoutPrototypeCache.prototype.get","ObjectWithoutPrototypeCache.prototype.set","create"],"mappings":"AAA;ACO;CDQ;AEI;CFE;AGC;CHQ;AIC;CJS;AKC;CLE;AMC;CNG;AOC;CPE;AQC;CRE;wBSI;CTE;iDUI;ICC;KDE;gDEC;KFE;gDGC;KHE;CVE;YcE;KdE"},"hasCjsExports":true},"type":"js/module"}]}