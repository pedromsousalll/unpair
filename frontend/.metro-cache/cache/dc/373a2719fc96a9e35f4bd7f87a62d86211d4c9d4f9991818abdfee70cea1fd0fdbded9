{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":141,"index":141}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useControlledState\", {\n    enumerable: true,\n    get: function () {\n      return $458b0a5536c1a7cf$export$40bfa8c7b0832715;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  /*\n   * Copyright 2020 Adobe. All rights reserved.\n   * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License. You may obtain a copy\n   * of the License at http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software distributed under\n   * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n   * OF ANY KIND, either express or implied. See the License for the specific language\n   * governing permissions and limitations under the License.\n   */\n  function $458b0a5536c1a7cf$export$40bfa8c7b0832715(value, defaultValue, onChange) {\n    let [stateValue, setStateValue] = (0, _react.useState)(value || defaultValue);\n    let isControlledRef = (0, _react.useRef)(value !== undefined);\n    let isControlled = value !== undefined;\n    (0, _react.useEffect)(() => {\n      let wasControlled = isControlledRef.current;\n      if (wasControlled !== isControlled && process.env.NODE_ENV !== 'production') console.warn(`WARN: A component changed from ${wasControlled ? 'controlled' : 'uncontrolled'} to ${isControlled ? 'controlled' : 'uncontrolled'}.`);\n      isControlledRef.current = isControlled;\n    }, [isControlled]);\n    let currentValue = isControlled ? value : stateValue;\n    let setValue = (0, _react.useCallback)((value, ...args) => {\n      let onChangeCaller = (value, ...onChangeArgs) => {\n        if (onChange) {\n          if (!Object.is(currentValue, value)) onChange(value, ...onChangeArgs);\n        }\n        if (!isControlled)\n          // If uncontrolled, mutate the currentValue local variable so that\n          // calling setState multiple times with the same value only emits onChange once.\n          // We do not use a ref for this because we specifically _do_ want the value to\n          // reset every render, and assigning to a ref in render breaks aborted suspended renders.\n          // eslint-disable-next-line react-hooks/exhaustive-deps\n          currentValue = value;\n      };\n      if (typeof value === 'function') {\n        if (process.env.NODE_ENV !== 'production') console.warn('We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320');\n        // this supports functional updates https://reactjs.org/docs/hooks-reference.html#functional-updates\n        // when someone using useControlledState calls setControlledState(myFunc)\n        // this will call our useState setState with a function as well which invokes myFunc and calls onChange with the value from myFunc\n        // if we're in an uncontrolled state, then we also return the value of myFunc which to setState looks as though it was just called with myFunc from the beginning\n        // otherwise we just return the controlled value, which won't cause a rerender because React knows to bail out when the value is the same\n        let updateFunction = (oldValue, ...functionArgs) => {\n          let interceptedValue = value(isControlled ? currentValue : oldValue, ...functionArgs);\n          onChangeCaller(interceptedValue, ...args);\n          if (!isControlled) return interceptedValue;\n          return oldValue;\n        };\n        setStateValue(updateFunction);\n      } else {\n        if (!isControlled) setStateValue(value);\n        onChangeCaller(value, ...args);\n      }\n    }, [isControlled, currentValue, onChange]);\n    return [currentValue, setValue];\n  }\n});","lineCount":69,"map":[[7,2,68,0,"Object"],[7,8,68,0],[7,9,68,0,"defineProperty"],[7,23,68,0],[7,24,68,0,"exports"],[7,31,68,0],[8,4,68,0,"enumerable"],[8,14,68,0],[9,4,68,0,"get"],[9,7,68,0],[9,18,68,0,"get"],[9,19,68,0],[10,6,68,0],[10,13,68,8,"$458b0a5536c1a7cf$export$40bfa8c7b0832715"],[10,54,68,49],[11,4,68,49],[12,2,68,49],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,3,0],[15,0,4,0],[16,0,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,0,13,0],[25,2,14,0],[25,11,14,9,"$458b0a5536c1a7cf$export$40bfa8c7b0832715"],[25,52,14,50,"$458b0a5536c1a7cf$export$40bfa8c7b0832715"],[25,53,14,51,"value"],[25,58,14,56],[25,60,14,58,"defaultValue"],[25,72,14,70],[25,74,14,72,"onChange"],[25,82,14,80],[25,84,14,82],[26,4,15,4],[26,8,15,8],[26,9,15,9,"stateValue"],[26,19,15,19],[26,21,15,21,"setStateValue"],[26,34,15,34],[26,35,15,35],[26,38,15,38],[26,39,15,39],[26,40,15,40],[26,42,15,42,"$3whtM$useState"],[26,48,15,57],[26,49,15,57,"useState"],[26,57,15,57],[26,59,15,59,"value"],[26,64,15,64],[26,68,15,68,"defaultValue"],[26,80,15,80],[26,81,15,81],[27,4,16,4],[27,8,16,8,"isControlledRef"],[27,23,16,23],[27,26,16,26],[27,27,16,27],[27,28,16,28],[27,30,16,30,"$3whtM$useRef"],[27,36,16,43],[27,37,16,43,"useRef"],[27,43,16,43],[27,45,16,45,"value"],[27,50,16,50],[27,55,16,55,"undefined"],[27,64,16,64],[27,65,16,65],[28,4,17,4],[28,8,17,8,"isControlled"],[28,20,17,20],[28,23,17,23,"value"],[28,28,17,28],[28,33,17,33,"undefined"],[28,42,17,42],[29,4,18,4],[29,5,18,5],[29,6,18,6],[29,8,18,8,"$3whtM$useEffect"],[29,14,18,24],[29,15,18,24,"useEffect"],[29,24,18,24],[29,26,18,26],[29,32,18,30],[30,6,19,8],[30,10,19,12,"wasControlled"],[30,23,19,25],[30,26,19,28,"isControlledRef"],[30,41,19,43],[30,42,19,44,"current"],[30,49,19,51],[31,6,20,8],[31,10,20,12,"wasControlled"],[31,23,20,25],[31,28,20,30,"isControlled"],[31,40,20,42],[31,44,20,46,"process"],[31,51,20,53],[31,52,20,54,"env"],[31,55,20,57],[31,56,20,58,"NODE_ENV"],[31,64,20,66],[31,69,20,71],[31,81,20,83],[31,83,20,85,"console"],[31,90,20,92],[31,91,20,93,"warn"],[31,95,20,97],[31,96,20,98],[31,130,20,132,"wasControlled"],[31,143,20,145],[31,146,20,148],[31,158,20,160],[31,161,20,163],[31,175,20,177],[31,182,20,184,"isControlled"],[31,194,20,196],[31,197,20,199],[31,209,20,211],[31,212,20,214],[31,226,20,228],[31,229,20,231],[31,230,20,232],[32,6,21,8,"isControlledRef"],[32,21,21,23],[32,22,21,24,"current"],[32,29,21,31],[32,32,21,34,"isControlled"],[32,44,21,46],[33,4,22,4],[33,5,22,5],[33,7,22,7],[33,8,23,8,"isControlled"],[33,20,23,20],[33,21,24,5],[33,22,24,6],[34,4,25,4],[34,8,25,8,"currentValue"],[34,20,25,20],[34,23,25,23,"isControlled"],[34,35,25,35],[34,38,25,38,"value"],[34,43,25,43],[34,46,25,46,"stateValue"],[34,56,25,56],[35,4,26,4],[35,8,26,8,"setValue"],[35,16,26,16],[35,19,26,19],[35,20,26,20],[35,21,26,21],[35,23,26,23,"$3whtM$useCallback"],[35,29,26,41],[35,30,26,41,"useCallback"],[35,41,26,41],[35,43,26,43],[35,44,26,44,"value"],[35,49,26,49],[35,51,26,51],[35,54,26,54,"args"],[35,58,26,58],[35,63,26,61],[36,6,27,8],[36,10,27,12,"onChangeCaller"],[36,24,27,26],[36,27,27,29,"onChangeCaller"],[36,28,27,30,"value"],[36,33,27,35],[36,35,27,37],[36,38,27,40,"onChangeArgs"],[36,50,27,52],[36,55,27,55],[37,8,28,12],[37,12,28,16,"onChange"],[37,20,28,24],[37,22,28,26],[38,10,29,16],[38,14,29,20],[38,15,29,21,"Object"],[38,21,29,27],[38,22,29,28,"is"],[38,24,29,30],[38,25,29,31,"currentValue"],[38,37,29,43],[38,39,29,45,"value"],[38,44,29,50],[38,45,29,51],[38,47,29,53,"onChange"],[38,55,29,61],[38,56,29,62,"value"],[38,61,29,67],[38,63,29,69],[38,66,29,72,"onChangeArgs"],[38,78,29,84],[38,79,29,85],[39,8,30,12],[40,8,31,12],[40,12,31,16],[40,13,31,17,"isControlled"],[40,25,31,29],[41,10,31,31],[42,10,32,12],[43,10,33,12],[44,10,34,12],[45,10,35,12],[46,10,36,12,"currentValue"],[46,22,36,24],[46,25,36,27,"value"],[46,30,36,32],[47,6,37,8],[47,7,37,9],[48,6,38,8],[48,10,38,12],[48,17,38,19,"value"],[48,22,38,24],[48,27,38,29],[48,37,38,39],[48,39,38,41],[49,8,39,12],[49,12,39,16,"process"],[49,19,39,23],[49,20,39,24,"env"],[49,23,39,27],[49,24,39,28,"NODE_ENV"],[49,32,39,36],[49,37,39,41],[49,49,39,53],[49,51,39,55,"console"],[49,58,39,62],[49,59,39,63,"warn"],[49,63,39,67],[49,64,39,68],[49,187,39,191],[49,188,39,192],[50,8,40,12],[51,8,41,12],[52,8,42,12],[53,8,43,12],[54,8,44,12],[55,8,45,12],[55,12,45,16,"updateFunction"],[55,26,45,30],[55,29,45,33,"updateFunction"],[55,30,45,34,"oldValue"],[55,38,45,42],[55,40,45,44],[55,43,45,47,"functionArgs"],[55,55,45,59],[55,60,45,62],[56,10,46,16],[56,14,46,20,"interceptedValue"],[56,30,46,36],[56,33,46,39,"value"],[56,38,46,44],[56,39,46,45,"isControlled"],[56,51,46,57],[56,54,46,60,"currentValue"],[56,66,46,72],[56,69,46,75,"oldValue"],[56,77,46,83],[56,79,46,85],[56,82,46,88,"functionArgs"],[56,94,46,100],[56,95,46,101],[57,10,47,16,"onChangeCaller"],[57,24,47,30],[57,25,47,31,"interceptedValue"],[57,41,47,47],[57,43,47,49],[57,46,47,52,"args"],[57,50,47,56],[57,51,47,57],[58,10,48,16],[58,14,48,20],[58,15,48,21,"isControlled"],[58,27,48,33],[58,29,48,35],[58,36,48,42,"interceptedValue"],[58,52,48,58],[59,10,49,16],[59,17,49,23,"oldValue"],[59,25,49,31],[60,8,50,12],[60,9,50,13],[61,8,51,12,"setStateValue"],[61,21,51,25],[61,22,51,26,"updateFunction"],[61,36,51,40],[61,37,51,41],[62,6,52,8],[62,7,52,9],[62,13,52,15],[63,8,53,12],[63,12,53,16],[63,13,53,17,"isControlled"],[63,25,53,29],[63,27,53,31,"setStateValue"],[63,40,53,44],[63,41,53,45,"value"],[63,46,53,50],[63,47,53,51],[64,8,54,12,"onChangeCaller"],[64,22,54,26],[64,23,54,27,"value"],[64,28,54,32],[64,30,54,34],[64,33,54,37,"args"],[64,37,54,41],[64,38,54,42],[65,6,55,8],[66,4,56,4],[66,5,56,5],[66,7,56,7],[66,8,57,8,"isControlled"],[66,20,57,20],[66,22,58,8,"currentValue"],[66,34,58,20],[66,36,59,8,"onChange"],[66,44,59,16],[66,45,60,5],[66,46,60,6],[67,4,61,4],[67,11,61,11],[67,12,62,8,"currentValue"],[67,24,62,20],[67,26,63,8,"setValue"],[67,34,63,16],[67,35,64,5],[68,2,65,0],[69,0,65,1],[69,3]],"functionMap":{"names":["<global>","$458b0a5536c1a7cf$export$40bfa8c7b0832715","<anonymous>","onChangeCaller","updateFunction"],"mappings":"AAA;ACa;0BCI;KDI;2CCI;6BCC;SDU;iCEQ;aFK;KDM;CDS"},"hasCjsExports":false},"type":"js/module"}]}