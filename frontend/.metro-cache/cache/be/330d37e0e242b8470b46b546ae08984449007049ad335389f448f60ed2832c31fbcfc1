{"dependencies":[{"name":"./time-data.generated","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":28,"index":146},"end":{"line":4,"column":60,"index":178}}],"key":"1+in00zY3wZRCb/mazyD8UqZFIk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getBestPattern = getBestPattern;\n  var time_data_generated_1 = require(_dependencyMap[0], \"./time-data.generated\");\n  /**\n   * Returns the best matching date time pattern if a date time skeleton\n   * pattern is provided with a locale. Follows the Unicode specification:\n   * https://www.unicode.org/reports/tr35/tr35-dates.html#table-mapping-requested-time-skeletons-to-patterns\n   * @param skeleton date time skeleton pattern that possibly includes j, J or C\n   * @param locale\n   */\n  function getBestPattern(skeleton, locale) {\n    var skeletonCopy = '';\n    for (var patternPos = 0; patternPos < skeleton.length; patternPos++) {\n      var patternChar = skeleton.charAt(patternPos);\n      if (patternChar === 'j') {\n        var extraLength = 0;\n        while (patternPos + 1 < skeleton.length && skeleton.charAt(patternPos + 1) === patternChar) {\n          extraLength++;\n          patternPos++;\n        }\n        var hourLen = 1 + (extraLength & 1);\n        var dayPeriodLen = extraLength < 2 ? 1 : 3 + (extraLength >> 1);\n        var dayPeriodChar = 'a';\n        var hourChar = getDefaultHourSymbolFromLocale(locale);\n        if (hourChar == 'H' || hourChar == 'k') {\n          dayPeriodLen = 0;\n        }\n        while (dayPeriodLen-- > 0) {\n          skeletonCopy += dayPeriodChar;\n        }\n        while (hourLen-- > 0) {\n          skeletonCopy = hourChar + skeletonCopy;\n        }\n      } else if (patternChar === 'J') {\n        skeletonCopy += 'H';\n      } else {\n        skeletonCopy += patternChar;\n      }\n    }\n    return skeletonCopy;\n  }\n  /**\n   * Maps the [hour cycle type](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/hourCycle)\n   * of the given `locale` to the corresponding time pattern.\n   * @param locale\n   */\n  function getDefaultHourSymbolFromLocale(locale) {\n    var hourCycle = locale.hourCycle;\n    if (hourCycle === undefined &&\n    // @ts-ignore hourCycle(s) is not identified yet\n    locale.hourCycles &&\n    // @ts-ignore\n    locale.hourCycles.length) {\n      // @ts-ignore\n      hourCycle = locale.hourCycles[0];\n    }\n    if (hourCycle) {\n      switch (hourCycle) {\n        case 'h24':\n          return 'k';\n        case 'h23':\n          return 'H';\n        case 'h12':\n          return 'h';\n        case 'h11':\n          return 'K';\n        default:\n          throw new Error('Invalid hourCycle');\n      }\n    }\n    // TODO: Once hourCycle is fully supported remove the following with data generation\n    var languageTag = locale.language;\n    var regionTag;\n    if (languageTag !== 'root') {\n      regionTag = locale.maximize().region;\n    }\n    var hourCycles = time_data_generated_1.timeData[regionTag || ''] || time_data_generated_1.timeData[languageTag || ''] || time_data_generated_1.timeData[\"\".concat(languageTag, \"-001\")] || time_data_generated_1.timeData['001'];\n    return hourCycles[0];\n  }\n});","lineCount":85,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"getBestPattern"],[7,24,3,22],[7,27,3,25,"getBestPattern"],[7,41,3,39],[8,2,4,0],[8,6,4,4,"time_data_generated_1"],[8,27,4,25],[8,30,4,28,"require"],[8,37,4,35],[8,38,4,35,"_dependencyMap"],[8,52,4,35],[8,80,4,59],[8,81,4,60],[9,2,5,0],[10,0,6,0],[11,0,7,0],[12,0,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,2,12,0],[16,11,12,9,"getBestPattern"],[16,25,12,23,"getBestPattern"],[16,26,12,24,"skeleton"],[16,34,12,32],[16,36,12,34,"locale"],[16,42,12,40],[16,44,12,42],[17,4,13,4],[17,8,13,8,"skeletonCopy"],[17,20,13,20],[17,23,13,23],[17,25,13,25],[18,4,14,4],[18,9,14,9],[18,13,14,13,"patternPos"],[18,23,14,23],[18,26,14,26],[18,27,14,27],[18,29,14,29,"patternPos"],[18,39,14,39],[18,42,14,42,"skeleton"],[18,50,14,50],[18,51,14,51,"length"],[18,57,14,57],[18,59,14,59,"patternPos"],[18,69,14,69],[18,71,14,71],[18,73,14,73],[19,6,15,8],[19,10,15,12,"patternChar"],[19,21,15,23],[19,24,15,26,"skeleton"],[19,32,15,34],[19,33,15,35,"charAt"],[19,39,15,41],[19,40,15,42,"patternPos"],[19,50,15,52],[19,51,15,53],[20,6,16,8],[20,10,16,12,"patternChar"],[20,21,16,23],[20,26,16,28],[20,29,16,31],[20,31,16,33],[21,8,17,12],[21,12,17,16,"extraLength"],[21,23,17,27],[21,26,17,30],[21,27,17,31],[22,8,18,12],[22,15,18,19,"patternPos"],[22,25,18,29],[22,28,18,32],[22,29,18,33],[22,32,18,36,"skeleton"],[22,40,18,44],[22,41,18,45,"length"],[22,47,18,51],[22,51,19,16,"skeleton"],[22,59,19,24],[22,60,19,25,"charAt"],[22,66,19,31],[22,67,19,32,"patternPos"],[22,77,19,42],[22,80,19,45],[22,81,19,46],[22,82,19,47],[22,87,19,52,"patternChar"],[22,98,19,63],[22,100,19,65],[23,10,20,16,"extraLength"],[23,21,20,27],[23,23,20,29],[24,10,21,16,"patternPos"],[24,20,21,26],[24,22,21,28],[25,8,22,12],[26,8,23,12],[26,12,23,16,"hourLen"],[26,19,23,23],[26,22,23,26],[26,23,23,27],[26,27,23,31,"extraLength"],[26,38,23,42],[26,41,23,45],[26,42,23,46],[26,43,23,47],[27,8,24,12],[27,12,24,16,"dayPeriodLen"],[27,24,24,28],[27,27,24,31,"extraLength"],[27,38,24,42],[27,41,24,45],[27,42,24,46],[27,45,24,49],[27,46,24,50],[27,49,24,53],[27,50,24,54],[27,54,24,58,"extraLength"],[27,65,24,69],[27,69,24,73],[27,70,24,74],[27,71,24,75],[28,8,25,12],[28,12,25,16,"dayPeriodChar"],[28,25,25,29],[28,28,25,32],[28,31,25,35],[29,8,26,12],[29,12,26,16,"hourChar"],[29,20,26,24],[29,23,26,27,"getDefaultHourSymbolFromLocale"],[29,53,26,57],[29,54,26,58,"locale"],[29,60,26,64],[29,61,26,65],[30,8,27,12],[30,12,27,16,"hourChar"],[30,20,27,24],[30,24,27,28],[30,27,27,31],[30,31,27,35,"hourChar"],[30,39,27,43],[30,43,27,47],[30,46,27,50],[30,48,27,52],[31,10,28,16,"dayPeriodLen"],[31,22,28,28],[31,25,28,31],[31,26,28,32],[32,8,29,12],[33,8,30,12],[33,15,30,19,"dayPeriodLen"],[33,27,30,31],[33,29,30,33],[33,32,30,36],[33,33,30,37],[33,35,30,39],[34,10,31,16,"skeletonCopy"],[34,22,31,28],[34,26,31,32,"dayPeriodChar"],[34,39,31,45],[35,8,32,12],[36,8,33,12],[36,15,33,19,"hourLen"],[36,22,33,26],[36,24,33,28],[36,27,33,31],[36,28,33,32],[36,30,33,34],[37,10,34,16,"skeletonCopy"],[37,22,34,28],[37,25,34,31,"hourChar"],[37,33,34,39],[37,36,34,42,"skeletonCopy"],[37,48,34,54],[38,8,35,12],[39,6,36,8],[39,7,36,9],[39,13,37,13],[39,17,37,17,"patternChar"],[39,28,37,28],[39,33,37,33],[39,36,37,36],[39,38,37,38],[40,8,38,12,"skeletonCopy"],[40,20,38,24],[40,24,38,28],[40,27,38,31],[41,6,39,8],[41,7,39,9],[41,13,40,13],[42,8,41,12,"skeletonCopy"],[42,20,41,24],[42,24,41,28,"patternChar"],[42,35,41,39],[43,6,42,8],[44,4,43,4],[45,4,44,4],[45,11,44,11,"skeletonCopy"],[45,23,44,23],[46,2,45,0],[47,2,46,0],[48,0,47,0],[49,0,48,0],[50,0,49,0],[51,0,50,0],[52,2,51,0],[52,11,51,9,"getDefaultHourSymbolFromLocale"],[52,41,51,39,"getDefaultHourSymbolFromLocale"],[52,42,51,40,"locale"],[52,48,51,46],[52,50,51,48],[53,4,52,4],[53,8,52,8,"hourCycle"],[53,17,52,17],[53,20,52,20,"locale"],[53,26,52,26],[53,27,52,27,"hourCycle"],[53,36,52,36],[54,4,53,4],[54,8,53,8,"hourCycle"],[54,17,53,17],[54,22,53,22,"undefined"],[54,31,53,31],[55,4,54,8],[56,4,55,8,"locale"],[56,10,55,14],[56,11,55,15,"hourCycles"],[56,21,55,25],[57,4,56,8],[58,4,57,8,"locale"],[58,10,57,14],[58,11,57,15,"hourCycles"],[58,21,57,25],[58,22,57,26,"length"],[58,28,57,32],[58,30,57,34],[59,6,58,8],[60,6,59,8,"hourCycle"],[60,15,59,17],[60,18,59,20,"locale"],[60,24,59,26],[60,25,59,27,"hourCycles"],[60,35,59,37],[60,36,59,38],[60,37,59,39],[60,38,59,40],[61,4,60,4],[62,4,61,4],[62,8,61,8,"hourCycle"],[62,17,61,17],[62,19,61,19],[63,6,62,8],[63,14,62,16,"hourCycle"],[63,23,62,25],[64,8,63,12],[64,13,63,17],[64,18,63,22],[65,10,64,16],[65,17,64,23],[65,20,64,26],[66,8,65,12],[66,13,65,17],[66,18,65,22],[67,10,66,16],[67,17,66,23],[67,20,66,26],[68,8,67,12],[68,13,67,17],[68,18,67,22],[69,10,68,16],[69,17,68,23],[69,20,68,26],[70,8,69,12],[70,13,69,17],[70,18,69,22],[71,10,70,16],[71,17,70,23],[71,20,70,26],[72,8,71,12],[73,10,72,16],[73,16,72,22],[73,20,72,26,"Error"],[73,25,72,31],[73,26,72,32],[73,45,72,51],[73,46,72,52],[74,6,73,8],[75,4,74,4],[76,4,75,4],[77,4,76,4],[77,8,76,8,"languageTag"],[77,19,76,19],[77,22,76,22,"locale"],[77,28,76,28],[77,29,76,29,"language"],[77,37,76,37],[78,4,77,4],[78,8,77,8,"regionTag"],[78,17,77,17],[79,4,78,4],[79,8,78,8,"languageTag"],[79,19,78,19],[79,24,78,24],[79,30,78,30],[79,32,78,32],[80,6,79,8,"regionTag"],[80,15,79,17],[80,18,79,20,"locale"],[80,24,79,26],[80,25,79,27,"maximize"],[80,33,79,35],[80,34,79,36],[80,35,79,37],[80,36,79,38,"region"],[80,42,79,44],[81,4,80,4],[82,4,81,4],[82,8,81,8,"hourCycles"],[82,18,81,18],[82,21,81,21,"time_data_generated_1"],[82,42,81,42],[82,43,81,43,"timeData"],[82,51,81,51],[82,52,81,52,"regionTag"],[82,61,81,61],[82,65,81,65],[82,67,81,67],[82,68,81,68],[82,72,82,8,"time_data_generated_1"],[82,93,82,29],[82,94,82,30,"timeData"],[82,102,82,38],[82,103,82,39,"languageTag"],[82,114,82,50],[82,118,82,54],[82,120,82,56],[82,121,82,57],[82,125,83,8,"time_data_generated_1"],[82,146,83,29],[82,147,83,30,"timeData"],[82,155,83,38],[82,156,83,39],[82,158,83,41],[82,159,83,42,"concat"],[82,165,83,48],[82,166,83,49,"languageTag"],[82,177,83,60],[82,179,83,62],[82,185,83,68],[82,186,83,69],[82,187,83,70],[82,191,84,8,"time_data_generated_1"],[82,212,84,29],[82,213,84,30,"timeData"],[82,221,84,38],[82,222,84,39],[82,227,84,44],[82,228,84,45],[83,4,85,4],[83,11,85,11,"hourCycles"],[83,21,85,21],[83,22,85,22],[83,23,85,23],[83,24,85,24],[84,2,86,0],[85,0,86,1],[85,3]],"functionMap":{"names":["<global>","getBestPattern","getDefaultHourSymbolFromLocale"],"mappings":"AAA;ACW;CDiC;AEM;CFmC"},"hasCjsExports":true},"type":"js/module"}]}